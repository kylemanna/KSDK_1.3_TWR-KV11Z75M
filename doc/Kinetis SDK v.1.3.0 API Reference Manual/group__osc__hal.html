<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Kinetis SDK v.1.3 API Reference Manual: OSC HAL driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="fs_logo.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kinetis SDK v.1.3 API Reference Manual
   &#160;<span id="projectnumber">Rev. 0</span>
   </div>
   <div id="projectbrief">Freescale Semiconductor, Inc.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__osc__hal.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">OSC HAL driver<div class="ingroups"><a class="el" href="group__osc.html">Oscillator (OSC)</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>The section describes the programming interface of the OSC HAL driver. The OSC module is a crystal oscillator. The module and the external crystal or resonator generate a reference clock for the MCU.<br/>
 The OSC HAL driver provides APIs to:</p>
<ul>
<li>Configure OSCERCLK.</li>
<li>Configure the capacitor load.</li>
</ul>
<h1><a class="anchor" id="OSCOC"></a>
OSCERCLK Configure APIs</h1>
<p>To enable/disable OSCERCLK, use the functions <a class="el" href="group__osc__hal.html#gadfd904a08ce2181053c355a72de8d760" title="Enables the external reference clock for the oscillator. ">OSC_HAL_SetExternalRefClkCmd()</a> and <a class="el" href="group__osc__hal.html#ga683cd47b1a4918008a27ad7b4a8bf13f" title="Enables/disables the external reference clock in stop mode. ">OSC_HAL_SetExternalRefClkInStopModeCmd()</a>. These functions configure the OSCERCLK enabling or disabling in normal mode or stop mode.<br/>
 The function OSC_HAL_SetExternalRefClkDiv() configures the OSCERCLK divider.</p>
<h1><a class="anchor" id="OSCCLC"></a>
Capacitor Load Configure APIs</h1>
<p>To configure capacitor load, use the function OSC_HAL_SetCapacitor and pass the capacitor load as parameter. Example:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;fsl_osc_hal.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// To enable only 2 pF and 8 pF capacitor load, do this:</span></div>
<div class="line"><a class="code" href="group__osc__hal.html#ga3246e29de1289462c481ca5ecf40ba54">OSC_HAL_SetCapacitor</a>(OSC, <a class="code" href="group__osc__hal.html#ggac01b4a83a796103ca7255024fa38ddfcaebd1254426bdca39d45962e6fa96aae8">kOscCapacitor2p</a> | <a class="code" href="group__osc__hal.html#ggac01b4a83a796103ca7255024fa38ddfcab1776582cbc311ef8efceed62e30192a">kOscCapacitor8p</a>);</div>
</div><!-- fragment --> <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:fsl__osc__hal_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsl__osc__hal_8h.html">fsl_osc_hal.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gac01b4a83a796103ca7255024fa38ddfc"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__hal.html#gac01b4a83a796103ca7255024fa38ddfc">osc_capacitor_config_t</a> { <br/>
&#160;&#160;<a class="el" href="group__osc__hal.html#ggac01b4a83a796103ca7255024fa38ddfcaebd1254426bdca39d45962e6fa96aae8">kOscCapacitor2p</a> = OSC_CR_SC2P_MASK, 
<br/>
&#160;&#160;<a class="el" href="group__osc__hal.html#ggac01b4a83a796103ca7255024fa38ddfca88bf8bd84051bcaa9b3e92513c8fa188">kOscCapacitor4p</a> = OSC_CR_SC4P_MASK, 
<br/>
&#160;&#160;<a class="el" href="group__osc__hal.html#ggac01b4a83a796103ca7255024fa38ddfcab1776582cbc311ef8efceed62e30192a">kOscCapacitor8p</a> = OSC_CR_SC8P_MASK, 
<br/>
&#160;&#160;<a class="el" href="group__osc__hal.html#ggac01b4a83a796103ca7255024fa38ddfca479b914c5eb49cd49f2410c7d3e8c23b">kOscCapacitor16p</a> = OSC_CR_SC16P_MASK
<br/>
 }</td></tr>
<tr class="memdesc:gac01b4a83a796103ca7255024fa38ddfc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Oscillator capacitor load configurations.  <a href="group__osc__hal.html#gac01b4a83a796103ca7255024fa38ddfc">More...</a><br/></td></tr>
<tr class="separator:gac01b4a83a796103ca7255024fa38ddfc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
oscillator control APIs</h2></td></tr>
<tr class="memitem:gadfd904a08ce2181053c355a72de8d760"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__hal.html#gadfd904a08ce2181053c355a72de8d760">OSC_HAL_SetExternalRefClkCmd</a> (OSC_Type *base, bool enable)</td></tr>
<tr class="memdesc:gadfd904a08ce2181053c355a72de8d760"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the external reference clock for the oscillator.  <a href="#gadfd904a08ce2181053c355a72de8d760">More...</a><br/></td></tr>
<tr class="separator:gadfd904a08ce2181053c355a72de8d760"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaee5f4eae0432d7a49c68866b28899064"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__hal.html#gaee5f4eae0432d7a49c68866b28899064">OSC_HAL_GetExternalRefClkCmd</a> (OSC_Type *base)</td></tr>
<tr class="memdesc:gaee5f4eae0432d7a49c68866b28899064"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the external reference clock enable setting for the oscillator.  <a href="#gaee5f4eae0432d7a49c68866b28899064">More...</a><br/></td></tr>
<tr class="separator:gaee5f4eae0432d7a49c68866b28899064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga683cd47b1a4918008a27ad7b4a8bf13f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__hal.html#ga683cd47b1a4918008a27ad7b4a8bf13f">OSC_HAL_SetExternalRefClkInStopModeCmd</a> (OSC_Type *base, bool enable)</td></tr>
<tr class="memdesc:ga683cd47b1a4918008a27ad7b4a8bf13f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables/disables the external reference clock in stop mode.  <a href="#ga683cd47b1a4918008a27ad7b4a8bf13f">More...</a><br/></td></tr>
<tr class="separator:ga683cd47b1a4918008a27ad7b4a8bf13f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3246e29de1289462c481ca5ecf40ba54"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__osc__hal.html#ga3246e29de1289462c481ca5ecf40ba54">OSC_HAL_SetCapacitor</a> (OSC_Type *base, uint32_t bitMask)</td></tr>
<tr class="memdesc:ga3246e29de1289462c481ca5ecf40ba54"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the capacitor configuration for the oscillator.  <a href="#ga3246e29de1289462c481ca5ecf40ba54">More...</a><br/></td></tr>
<tr class="separator:ga3246e29de1289462c481ca5ecf40ba54"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gac01b4a83a796103ca7255024fa38ddfc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__osc__hal.html#gac01b4a83a796103ca7255024fa38ddfc">osc_capacitor_config_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ggac01b4a83a796103ca7255024fa38ddfcaebd1254426bdca39d45962e6fa96aae8"></a>kOscCapacitor2p</em>&#160;</td><td class="fielddoc">
<p>2 pF capacitor load </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggac01b4a83a796103ca7255024fa38ddfca88bf8bd84051bcaa9b3e92513c8fa188"></a>kOscCapacitor4p</em>&#160;</td><td class="fielddoc">
<p>4 pF capacitor load </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggac01b4a83a796103ca7255024fa38ddfcab1776582cbc311ef8efceed62e30192a"></a>kOscCapacitor8p</em>&#160;</td><td class="fielddoc">
<p>8 pF capacitor load </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ggac01b4a83a796103ca7255024fa38ddfca479b914c5eb49cd49f2410c7d3e8c23b"></a>kOscCapacitor16p</em>&#160;</td><td class="fielddoc">
<p>16 pF capacitor load </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gadfd904a08ce2181053c355a72de8d760"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OSC_HAL_SetExternalRefClkCmd </td>
          <td>(</td>
          <td class="paramtype">OSC_Type *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function enables the external reference clock output for the oscillator, OSCERCLK. This clock is used by many peripherals. It should be enabled at an early system initialization stage to ensure the peripherals can select and use it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>Oscillator register base address </td></tr>
    <tr><td class="paramname">enable</td><td>enable/disable the clock </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gaee5f4eae0432d7a49c68866b28899064"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool OSC_HAL_GetExternalRefClkCmd </td>
          <td>(</td>
          <td class="paramtype">OSC_Type *&#160;</td>
          <td class="paramname"><em>base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function gets the external reference clock output enable setting for the oscillator , OSCERCLK. This clock is used by many peripherals. It should be enabled at an early system initialization stage to ensure the peripherals could select and use it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>Oscillator register base address </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Clock enable/disable setting </dd></dl>

</div>
</div>
<a class="anchor" id="ga683cd47b1a4918008a27ad7b4a8bf13f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void OSC_HAL_SetExternalRefClkInStopModeCmd </td>
          <td>(</td>
          <td class="paramtype">OSC_Type *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This function enables/disables the external reference clock (OSCERCLK) when an MCU enters the stop mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>Oscillator register base address </td></tr>
    <tr><td class="paramname">enable</td><td>enable/disable setting </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga3246e29de1289462c481ca5ecf40ba54"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void OSC_HAL_SetCapacitor </td>
          <td>(</td>
          <td class="paramtype">OSC_Type *&#160;</td>
          <td class="paramname"><em>base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>bitMask</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function sets the specified capacitors configuration for the oscillator. This should be done in the early system level initialization function call based on the system configuration.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">base</td><td>Oscillator register base address </td></tr>
    <tr><td class="paramname">bitMask</td><td>Bit mask for the capacitor load option.</td></tr>
  </table>
  </dd>
</dl>
<p>Example: </p>
<div class="fragment"><div class="line"><span class="comment">// To enable only 2 pF and 8 pF capacitor load, please use like this.</span></div>
<div class="line"><a class="code" href="group__osc__hal.html#ga3246e29de1289462c481ca5ecf40ba54">OSC_HAL_SetCapacitor</a>(OSC, <a class="code" href="group__osc__hal.html#ggac01b4a83a796103ca7255024fa38ddfcaebd1254426bdca39d45962e6fa96aae8">kOscCapacitor2p</a> | <a class="code" href="group__osc__hal.html#ggac01b4a83a796103ca7255024fa38ddfcab1776582cbc311ef8efceed62e30192a">kOscCapacitor8p</a>);</div>
</div><!-- fragment --> 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul class="foot">
    <li class="footer">Thu Sep 24 2015 &copy; 2015 Freescale Semiconductor, Inc. All rights reserved.
    </li>
  </ul>
</div>
</body>
</html>
