<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Kinetis SDK v.1.3 API Reference Manual: TSI Peripheral Driver</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="fs_logo.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kinetis SDK v.1.3 API Reference Manual
   &#160;<span id="projectnumber">Rev. 0</span>
   </div>
   <div id="projectbrief">Freescale Semiconductor, Inc.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__tsi__driver.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">TSI Peripheral Driver<div class="ingroups"><a class="el" href="group__tsi.html">Touch Sense Input (TSI)</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Overview</h2>
<p>The section describes the programming interface of the TSI Peripheral driver</p>
<h1><a class="anchor" id="TSIOv"></a>
Overview</h1>
<p>The TSI peripheral driver measures the capacitance of electrodes (touch sensing) in various modes and provides API functions for input/output operations.</p>
<div class="image">
<img src="TSI_Block.jpg" alt="TSI_Block.jpg"/>
<div class="caption">
TSI Driver Block Diagram</div></div>
  <h1><a class="anchor" id="TSIInit"></a>
TSI Initialization</h1>
<p>To initialize TSI, the application defines the startup configuration and handles to the initialization routine. <br/>
<br/>
Include the "fsl_tsi_driver.h" header file in source files to use TSI driver and operate touch sensing functionality.<br/>
</p>
<p>This is an example of the TSI driver initialization (with example of configuration) and simple measurement:</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;fsl_tsi_driver.h&quot;</span></div>
<div class="line"></div>
<div class="line"><span class="comment">// Declaration of TSI callback function</span></div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> tsi_irq_callback(uint32_t instance, <span class="keywordtype">void</span>* usrData);</div>
<div class="line"></div>
<div class="line"><span class="comment">// Set up the HW configuration for normal mode of TSI</span></div>
<div class="line"><span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="group__tsi__hal.html#structtsi__config__t">tsi_config_t</a> tsi_HwConfig =</div>
<div class="line">{</div>
<div class="line">  .<a class="code" href="group__tsi__hal.html#a1fad32c0ebe9dd0f0677890f8e44907d">ps</a> = <a class="code" href="group__tsi__hal.html#gga7e69f76860ffced1f7256a993fc30c2ea3b40ac983df5c1006460af3961dd74a8">kTsiElecOscPrescaler_2div</a>,       </div>
</div><!-- fragment --> <table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="files"></a>
Files</h2></td></tr>
<tr class="memitem:fsl__tsi__driver_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsl__tsi__driver_8h.html">fsl_tsi_driver.h</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:structtsi__user__config__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#structtsi__user__config__t">tsi_user_config_t</a></td></tr>
<tr class="memdesc:structtsi__user__config__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">User configuration structure for TSI driver.  <a href="group__tsi__driver.html#structtsi__user__config__t">More...</a><br/></td></tr>
<tr class="separator:structtsi__user__config__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structtsi__operation__mode__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a></td></tr>
<tr class="memdesc:structtsi__operation__mode__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver operation mode data hold structure.  <a href="group__tsi__driver.html#structtsi__operation__mode__t">More...</a><br/></td></tr>
<tr class="separator:structtsi__operation__mode__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:structtsi__state__t"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#structtsi__state__t">tsi_state_t</a></td></tr>
<tr class="memdesc:structtsi__state__t"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver data storage place.  <a href="group__tsi__driver.html#structtsi__state__t">More...</a><br/></td></tr>
<tr class="separator:structtsi__state__t"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga06c8a253cee00f407105143acbc36c36"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga06c8a253cee00f407105143acbc36c36">tsi_callback_t</a> )(uint32_t instance, void *usrData)</td></tr>
<tr class="memdesc:ga06c8a253cee00f407105143acbc36c36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call back routine of TSI driver.  <a href="#ga06c8a253cee00f407105143acbc36c36">More...</a><br/></td></tr>
<tr class="separator:ga06c8a253cee00f407105143acbc36c36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga7a1c44ef526eb168efeb5325c4206202"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a> { <br/>
&#160;&#160;<a class="el" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202a8476ba7726647ce5db603baf04cc51c6">tsi_OpModeNormal</a> = 0, 
<br/>
&#160;&#160;<a class="el" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202adb05a5ac75ffb68159dc8ad0fe4b8d16">tsi_OpModeProximity</a>, 
<br/>
&#160;&#160;<a class="el" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202af218dcc0bee90e41180b5c58f3348d90">tsi_OpModeLowPower</a>, 
<br/>
&#160;&#160;<a class="el" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202a58b84285be55eef1195e1b382a13758a">tsi_OpModeNoise</a>, 
<br/>
&#160;&#160;<a class="el" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202ad60d8a0aea71a33bd97ffd1369aca8f0">tsi_OpModeCnt</a>, 
<br/>
&#160;&#160;<a class="el" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202afebbf66d4297f33475b1a0e09c64d7f0">tsi_OpModeNoChange</a>
<br/>
 }</td></tr>
<tr class="memdesc:ga7a1c44ef526eb168efeb5325c4206202"><td class="mdescLeft">&#160;</td><td class="mdescRight">Driver operation mode definition.  <a href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">More...</a><br/></td></tr>
<tr class="separator:ga7a1c44ef526eb168efeb5325c4206202"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga567d8769cc27b126e0e155b92b6de588"><td class="memItemLeft" align="right" valign="top">TSI_Type *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga567d8769cc27b126e0e155b92b6de588">g_tsiBase</a> []</td></tr>
<tr class="memdesc:ga567d8769cc27b126e0e155b92b6de588"><td class="mdescLeft">&#160;</td><td class="mdescRight">Table of base addresses for TSI instances.  <a href="#ga567d8769cc27b126e0e155b92b6de588">More...</a><br/></td></tr>
<tr class="separator:ga567d8769cc27b126e0e155b92b6de588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac407efd6876a4040954c3bf056e661ab"><td class="memItemLeft" align="right" valign="top">const IRQn_Type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#gac407efd6876a4040954c3bf056e661ab">g_tsiIrqId</a> [TSI_INSTANCE_COUNT]</td></tr>
<tr class="memdesc:gac407efd6876a4040954c3bf056e661ab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Table to save TSI IRQ enumeration numbers defined in CMSIS header file.  <a href="#gac407efd6876a4040954c3bf056e661ab">More...</a><br/></td></tr>
<tr class="separator:gac407efd6876a4040954c3bf056e661ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9436b458136ebfec9c31cac0e3257879"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__driver.html#structtsi__state__t">tsi_state_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga9436b458136ebfec9c31cac0e3257879">g_tsiStatePtr</a> [TSI_INSTANCE_COUNT]</td></tr>
<tr class="memdesc:ga9436b458136ebfec9c31cac0e3257879"><td class="mdescLeft">&#160;</td><td class="mdescRight">Table to save pointers to context data.  <a href="#ga9436b458136ebfec9c31cac0e3257879">More...</a><br/></td></tr>
<tr class="separator:ga9436b458136ebfec9c31cac0e3257879"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Initialization</h2></td></tr>
<tr class="memitem:gadae9cf629a994a96fe9be0bb83992b6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#gadae9cf629a994a96fe9be0bb83992b6d">TSI_DRV_Init</a> (uint32_t instance, <a class="el" href="group__tsi__driver.html#structtsi__state__t">tsi_state_t</a> *tsiState, const <a class="el" href="group__tsi__driver.html#structtsi__user__config__t">tsi_user_config_t</a> *tsiUserConfig)</td></tr>
<tr class="memdesc:gadae9cf629a994a96fe9be0bb83992b6d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes a TSI instance for operation.  <a href="#gadae9cf629a994a96fe9be0bb83992b6d">More...</a><br/></td></tr>
<tr class="separator:gadae9cf629a994a96fe9be0bb83992b6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84ed5339149e76ba1a63415e512e7aa3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga84ed5339149e76ba1a63415e512e7aa3">TSI_DRV_DeInit</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga84ed5339149e76ba1a63415e512e7aa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Shuts down the TSI by disabling interrupts and the peripheral.  <a href="#ga84ed5339149e76ba1a63415e512e7aa3">More...</a><br/></td></tr>
<tr class="separator:ga84ed5339149e76ba1a63415e512e7aa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga009f75442d87b335b74a809835506f8c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga009f75442d87b335b74a809835506f8c">TSI_DRV_EnableElectrode</a> (uint32_t instance, const uint32_t channel, const bool enable)</td></tr>
<tr class="memdesc:ga009f75442d87b335b74a809835506f8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables/disables one electrode of the TSI module.  <a href="#ga009f75442d87b335b74a809835506f8c">More...</a><br/></td></tr>
<tr class="separator:ga009f75442d87b335b74a809835506f8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafd1a247495cb551edbc6a010424e314c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#gafd1a247495cb551edbc6a010424e314c">TSI_DRV_GetEnabledElectrodes</a> (uint32_t instance)</td></tr>
<tr class="memdesc:gafd1a247495cb551edbc6a010424e314c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a mask of the enabled electrodes of the TSI module.  <a href="#gafd1a247495cb551edbc6a010424e314c">More...</a><br/></td></tr>
<tr class="separator:gafd1a247495cb551edbc6a010424e314c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86b101dbf4486218e09e5967fb1e7f5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga86b101dbf4486218e09e5967fb1e7f5e">TSI_DRV_Measure</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga86b101dbf4486218e09e5967fb1e7f5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the measure cycle of the enabled electrodes.  <a href="#ga86b101dbf4486218e09e5967fb1e7f5e">More...</a><br/></td></tr>
<tr class="separator:ga86b101dbf4486218e09e5967fb1e7f5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d93f36fde89f95dd8d38aa4896ae96f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga1d93f36fde89f95dd8d38aa4896ae96f">TSI_DRV_MeasureBlocking</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga1d93f36fde89f95dd8d38aa4896ae96f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the measure cycle of the enabled electrodes in blocking mode.  <a href="#ga1d93f36fde89f95dd8d38aa4896ae96f">More...</a><br/></td></tr>
<tr class="separator:ga1d93f36fde89f95dd8d38aa4896ae96f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7b27646aaa2fc1218cb0ccbac8d9b509"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga7b27646aaa2fc1218cb0ccbac8d9b509">TSI_DRV_AbortMeasure</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga7b27646aaa2fc1218cb0ccbac8d9b509"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aborts the measure cycle in non standard use of the driver.  <a href="#ga7b27646aaa2fc1218cb0ccbac8d9b509">More...</a><br/></td></tr>
<tr class="separator:ga7b27646aaa2fc1218cb0ccbac8d9b509"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74907730315ef4cbd3a7e53c9d194aab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga74907730315ef4cbd3a7e53c9d194aab">TSI_DRV_GetCounter</a> (uint32_t instance, const uint32_t channel, uint16_t *counter)</td></tr>
<tr class="memdesc:ga74907730315ef4cbd3a7e53c9d194aab"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the last measured value.  <a href="#ga74907730315ef4cbd3a7e53c9d194aab">More...</a><br/></td></tr>
<tr class="separator:ga74907730315ef4cbd3a7e53c9d194aab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac8a3969f549f2ba2d1c745f3e7e3f5e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#gaac8a3969f549f2ba2d1c745f3e7e3f5e">TSI_DRV_GetStatus</a> (uint32_t instance)</td></tr>
<tr class="memdesc:gaac8a3969f549f2ba2d1c745f3e7e3f5e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current status of the driver.  <a href="#gaac8a3969f549f2ba2d1c745f3e7e3f5e">More...</a><br/></td></tr>
<tr class="separator:gaac8a3969f549f2ba2d1c745f3e7e3f5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b364e0c04feb37e50f3f14fa7c31240"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga4b364e0c04feb37e50f3f14fa7c31240">TSI_DRV_EnableLowPower</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga4b364e0c04feb37e50f3f14fa7c31240"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enters the low power mode of the TSI driver.  <a href="#ga4b364e0c04feb37e50f3f14fa7c31240">More...</a><br/></td></tr>
<tr class="separator:ga4b364e0c04feb37e50f3f14fa7c31240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0e9ef33fe2d4d2ff0c5cd4d0a43ed87e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga0e9ef33fe2d4d2ff0c5cd4d0a43ed87e">TSI_DRV_DisableLowPower</a> (uint32_t instance, const <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a> mode)</td></tr>
<tr class="memdesc:ga0e9ef33fe2d4d2ff0c5cd4d0a43ed87e"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function returns back the TSI driver from the low power to standard operation.  <a href="#ga0e9ef33fe2d4d2ff0c5cd4d0a43ed87e">More...</a><br/></td></tr>
<tr class="separator:ga0e9ef33fe2d4d2ff0c5cd4d0a43ed87e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae32c63bb4f527cc68adc39ccc958149d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#gae32c63bb4f527cc68adc39ccc958149d">TSI_DRV_Recalibrate</a> (uint32_t instance, uint32_t *lowestSignal)</td></tr>
<tr class="memdesc:gae32c63bb4f527cc68adc39ccc958149d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Automatically recalibrates all important TSI settings.  <a href="#gae32c63bb4f527cc68adc39ccc958149d">More...</a><br/></td></tr>
<tr class="separator:gae32c63bb4f527cc68adc39ccc958149d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga575bd79753dccf3f4e50e46706f91c7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga575bd79753dccf3f4e50e46706f91c7f">TSI_DRV_SetCallBackFunc</a> (uint32_t instance, const <a class="el" href="group__tsi__driver.html#ga06c8a253cee00f407105143acbc36c36">tsi_callback_t</a> pFuncCallBack, void *usrData)</td></tr>
<tr class="memdesc:ga575bd79753dccf3f4e50e46706f91c7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the callback function that is called when the measure cycle ends.  <a href="#ga575bd79753dccf3f4e50e46706f91c7f">More...</a><br/></td></tr>
<tr class="separator:ga575bd79753dccf3f4e50e46706f91c7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga56ad2cc9672ca83cdcf40d7204b08077"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga56ad2cc9672ca83cdcf40d7204b08077">TSI_DRV_ChangeMode</a> (uint32_t instance, const <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a> mode)</td></tr>
<tr class="memdesc:ga56ad2cc9672ca83cdcf40d7204b08077"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the current working operation mode.  <a href="#ga56ad2cc9672ca83cdcf40d7204b08077">More...</a><br/></td></tr>
<tr class="separator:ga56ad2cc9672ca83cdcf40d7204b08077"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3595af3dd86d57eced36b49a1f9ff447"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ga3595af3dd86d57eced36b49a1f9ff447">TSI_DRV_GetMode</a> (uint32_t instance)</td></tr>
<tr class="memdesc:ga3595af3dd86d57eced36b49a1f9ff447"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current working operation mode.  <a href="#ga3595af3dd86d57eced36b49a1f9ff447">More...</a><br/></td></tr>
<tr class="separator:ga3595af3dd86d57eced36b49a1f9ff447"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaba6898571a90849c5033a516d4323c75"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#gaba6898571a90849c5033a516d4323c75">TSI_DRV_LoadConfiguration</a> (uint32_t instance, const <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a> mode, const <a class="el" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a> *operationMode)</td></tr>
<tr class="memdesc:gaba6898571a90849c5033a516d4323c75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Loads the new configuration into a specific mode.  <a href="#gaba6898571a90849c5033a516d4323c75">More...</a><br/></td></tr>
<tr class="separator:gaba6898571a90849c5033a516d4323c75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac3adb8d865736779f037c0d84b540417"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#gac3adb8d865736779f037c0d84b540417">TSI_DRV_SaveConfiguration</a> (uint32_t instance, const <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a> mode, <a class="el" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a> *operationMode)</td></tr>
<tr class="memdesc:gac3adb8d865736779f037c0d84b540417"><td class="mdescLeft">&#160;</td><td class="mdescRight">Saves the TSI driver configuration for a specific mode.  <a href="#gac3adb8d865736779f037c0d84b540417">More...</a><br/></td></tr>
<tr class="separator:gac3adb8d865736779f037c0d84b540417"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<hr/><h2 class="groupheader">Data Structure Documentation</h2>
<a name="structtsi__user__config__t" id="structtsi__user__config__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct tsi_user_config_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>Use an instance of this structure with <a class="el" href="group__tsi__driver.html#gadae9cf629a994a96fe9be0bb83992b6d" title="Initializes a TSI instance for operation. ">TSI_DRV_Init()</a>. This allows you to configure the most common settings of the TSI peripheral with a single function call. Settings include: </p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Data Fields</h3></td></tr>
<tr class="memitem:ac06cfdf8d812c700ab637da3339bdddf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#structtsi__config__t">tsi_config_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ac06cfdf8d812c700ab637da3339bdddf">config</a></td></tr>
<tr class="separator:ac06cfdf8d812c700ab637da3339bdddf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea54b7507dfc9e332622e2a44f94daed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__driver.html#ga06c8a253cee00f407105143acbc36c36">tsi_callback_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#aea54b7507dfc9e332622e2a44f94daed">pCallBackFunc</a></td></tr>
<tr class="separator:aea54b7507dfc9e332622e2a44f94daed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2085aae0f7ae35a02cd7ad7d8b9e886c"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#a2085aae0f7ae35a02cd7ad7d8b9e886c">usrData</a></td></tr>
<tr class="separator:a2085aae0f7ae35a02cd7ad7d8b9e886c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h4 class="groupheader">Field Documentation</h4>
<a class="anchor" id="ac06cfdf8d812c700ab637da3339bdddf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#structtsi__config__t">tsi_config_t</a>* tsi_user_config_t::config</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A pointer to hardware configuration. Can't be NULL. </p>

</div>
</div>
<a class="anchor" id="aea54b7507dfc9e332622e2a44f94daed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__driver.html#ga06c8a253cee00f407105143acbc36c36">tsi_callback_t</a> tsi_user_config_t::pCallBackFunc</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A pointer to call back function of end of measurement. </p>

</div>
</div>
<a class="anchor" id="a2085aae0f7ae35a02cd7ad7d8b9e886c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tsi_user_config_t::usrData</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A user data of call back function. </p>

</div>
</div>

</div>
</div>
<a name="structtsi__operation__mode__t" id="structtsi__operation__mode__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct tsi_operation_mode_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>This is the operation mode data hold structure. The structure is keep all needed data to be driver able to switch the operation modes and properly set up HW peripheral. </p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Data Fields</h3></td></tr>
<tr class="memitem:ab66c441a8faea7a6199294cad8c771dd"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ab66c441a8faea7a6199294cad8c771dd">enabledElectrodes</a></td></tr>
<tr class="separator:ab66c441a8faea7a6199294cad8c771dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cddbc1039612e84875d283b6cded424"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#structtsi__config__t">tsi_config_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#a8cddbc1039612e84875d283b6cded424">config</a></td></tr>
<tr class="separator:a8cddbc1039612e84875d283b6cded424"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h4 class="groupheader">Field Documentation</h4>
<a class="anchor" id="ab66c441a8faea7a6199294cad8c771dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t tsi_operation_mode_t::enabledElectrodes</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The back up of enabled electrodes for operation mode </p>

</div>
</div>
<a class="anchor" id="a8cddbc1039612e84875d283b6cded424"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#structtsi__config__t">tsi_config_t</a> tsi_operation_mode_t::config</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A hardware configuration. </p>

</div>
</div>

</div>
</div>
<a name="structtsi__state__t" id="structtsi__state__t"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct tsi_state_t</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="textblock"><p>It must be created by the application code and the pointer is handled by the <a class="el" href="group__tsi__driver.html#gadae9cf629a994a96fe9be0bb83992b6d">TSI_DRV_Init</a> function to driver. The driver keeps all context data for itself run. Settings include: </p>
</div><table class="memberdecls">
<tr><td colspan="2"><h3>Data Fields</h3></td></tr>
<tr class="memitem:ae19ca1a08e421fa65658cead53c49e86"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ae19ca1a08e421fa65658cead53c49e86">status</a></td></tr>
<tr class="separator:ae19ca1a08e421fa65658cead53c49e86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7c406ef379aa3e8fea5aede456db957"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__driver.html#ga06c8a253cee00f407105143acbc36c36">tsi_callback_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#aa7c406ef379aa3e8fea5aede456db957">pCallBackFunc</a></td></tr>
<tr class="separator:aa7c406ef379aa3e8fea5aede456db957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e451154d8ee74b74a583a6394652814"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#a9e451154d8ee74b74a583a6394652814">usrData</a></td></tr>
<tr class="separator:a9e451154d8ee74b74a583a6394652814"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a395ec00d39eab4ce12e52af5bda848f7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__os__abstraction__bm.html#structsemaphore__t">semaphore_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#a395ec00d39eab4ce12e52af5bda848f7">irqSync</a></td></tr>
<tr class="separator:a395ec00d39eab4ce12e52af5bda848f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1fd33b7ecbdf7a44907271f189a6a7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__os__abstraction__bm.html#structmutex__t">mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ac1fd33b7ecbdf7a44907271f189a6a7f">lock</a></td></tr>
<tr class="separator:ac1fd33b7ecbdf7a44907271f189a6a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fd679ccd03afe5c4477c1762c0b2d27"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__os__abstraction__bm.html#structmutex__t">mutex_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#a9fd679ccd03afe5c4477c1762c0b2d27">lockChangeMode</a></td></tr>
<tr class="separator:a9fd679ccd03afe5c4477c1762c0b2d27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8e3ba257449ab95172cd51394ba18be"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#af8e3ba257449ab95172cd51394ba18be">isBlockingMeasure</a></td></tr>
<tr class="separator:af8e3ba257449ab95172cd51394ba18be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51856ae9c21d087c3a26016a93b5ee35"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#a51856ae9c21d087c3a26016a93b5ee35">opMode</a></td></tr>
<tr class="separator:a51856ae9c21d087c3a26016a93b5ee35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b73eb0598f27f5f63df3225f98009ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#a2b73eb0598f27f5f63df3225f98009ee">opModesData</a> [<a class="el" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202ad60d8a0aea71a33bd97ffd1369aca8f0">tsi_OpModeCnt</a>]</td></tr>
<tr class="separator:a2b73eb0598f27f5f63df3225f98009ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4d1fd6cec6aaffc677c2c405a209998"><td class="memItemLeft" align="right" valign="top">uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__tsi__driver.html#ab4d1fd6cec6aaffc677c2c405a209998">counters</a> [FSL_FEATURE_TSI_CHANNEL_COUNT]</td></tr>
<tr class="separator:ab4d1fd6cec6aaffc677c2c405a209998"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h4 class="groupheader">Field Documentation</h4>
<a class="anchor" id="ae19ca1a08e421fa65658cead53c49e86"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> tsi_state_t::status</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Current status of the driver. </p>

</div>
</div>
<a class="anchor" id="aa7c406ef379aa3e8fea5aede456db957"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__driver.html#ga06c8a253cee00f407105143acbc36c36">tsi_callback_t</a> tsi_state_t::pCallBackFunc</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A pointer to call back function of end of measurement. </p>

</div>
</div>
<a class="anchor" id="a9e451154d8ee74b74a583a6394652814"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* tsi_state_t::usrData</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A user data pointer handled by call back function. </p>

</div>
</div>
<a class="anchor" id="a395ec00d39eab4ce12e52af5bda848f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__os__abstraction__bm.html#structsemaphore__t">semaphore_t</a> tsi_state_t::irqSync</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used to wait for ISR to complete its measure business. </p>

</div>
</div>
<a class="anchor" id="ac1fd33b7ecbdf7a44907271f189a6a7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__os__abstraction__bm.html#structmutex__t">mutex_t</a> tsi_state_t::lock</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used by whole driver to secure the context data integrity. </p>

</div>
</div>
<a class="anchor" id="a9fd679ccd03afe5c4477c1762c0b2d27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__os__abstraction__bm.html#structmutex__t">mutex_t</a> tsi_state_t::lockChangeMode</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used by change mode function to secure the context data integrity. </p>

</div>
</div>
<a class="anchor" id="af8e3ba257449ab95172cd51394ba18be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool tsi_state_t::isBlockingMeasure</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Used to internal indication of type of measurement. </p>

</div>
</div>
<a class="anchor" id="a51856ae9c21d087c3a26016a93b5ee35"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a> tsi_state_t::opMode</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Storage of current operation mode. </p>

</div>
</div>
<a class="anchor" id="a2b73eb0598f27f5f63df3225f98009ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a> tsi_state_t::opModesData[<a class="el" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202ad60d8a0aea71a33bd97ffd1369aca8f0">tsi_OpModeCnt</a>]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Data storage of individual operational modes. </p>

</div>
</div>
<a class="anchor" id="ab4d1fd6cec6aaffc677c2c405a209998"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t tsi_state_t::counters[FSL_FEATURE_TSI_CHANNEL_COUNT]</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The mirror of last state of counter registers </p>

</div>
</div>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga06c8a253cee00f407105143acbc36c36"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* tsi_callback_t)(uint32_t instance, void *usrData)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function is called on end of the measure of the TSI driver. The function can be called from interrupt, so the code inside the callback should be short and fast. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>- instance of the TSI peripheral </td></tr>
    <tr><td class="paramname">usrData</td><td>- user data (type is void*), the user data are specified by function <a class="el" href="group__tsi__driver.html#ga575bd79753dccf3f4e50e46706f91c7f">TSI_DRV_SetCallBackFunc</a> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>- none </dd></dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ga7a1c44ef526eb168efeb5325c4206202"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The operation name definition used for TSI driver. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="gga7a1c44ef526eb168efeb5325c4206202a8476ba7726647ce5db603baf04cc51c6"></a>tsi_OpModeNormal</em>&#160;</td><td class="fielddoc">
<p>The normal mode of TSI. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga7a1c44ef526eb168efeb5325c4206202adb05a5ac75ffb68159dc8ad0fe4b8d16"></a>tsi_OpModeProximity</em>&#160;</td><td class="fielddoc">
<p>The proximity sensing mode of TSI. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga7a1c44ef526eb168efeb5325c4206202af218dcc0bee90e41180b5c58f3348d90"></a>tsi_OpModeLowPower</em>&#160;</td><td class="fielddoc">
<p>The low power mode of TSI. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga7a1c44ef526eb168efeb5325c4206202a58b84285be55eef1195e1b382a13758a"></a>tsi_OpModeNoise</em>&#160;</td><td class="fielddoc">
<p>The noise mode of TSI. This mode is not valid with TSI HW, valid only for the TSIL HW. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga7a1c44ef526eb168efeb5325c4206202ad60d8a0aea71a33bd97ffd1369aca8f0"></a>tsi_OpModeCnt</em>&#160;</td><td class="fielddoc">
<p>Count of TSI modes - for internal use. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="gga7a1c44ef526eb168efeb5325c4206202afebbf66d4297f33475b1a0e09c64d7f0"></a>tsi_OpModeNoChange</em>&#160;</td><td class="fielddoc">
<p>The special value of operation mode that allows call for example <a class="el" href="group__tsi__driver.html#ga0e9ef33fe2d4d2ff0c5cd4d0a43ed87e">TSI_DRV_DisableLowPower</a> function without change of operation mode. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gadae9cf629a994a96fe9be0bb83992b6d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_Init </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__tsi__driver.html#structtsi__state__t">tsi_state_t</a> *&#160;</td>
          <td class="paramname"><em>tsiState</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__tsi__driver.html#structtsi__user__config__t">tsi_user_config_t</a> *&#160;</td>
          <td class="paramname"><em>tsiUserConfig</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function initializes the run-time state structure and prepares the entire peripheral to measure the capacitances on electrodes. </p>
<div class="fragment"><div class="line"><span class="keyword">static</span> <a class="code" href="group__tsi__driver.html#structtsi__state__t">tsi_state_t</a> myTsiDriverStateStructure;</div>
<div class="line"></div>
<div class="line"><a class="code" href="group__tsi__driver.html#structtsi__user__config__t">tsi_user_config_t</a> myTsiDriveruserConfig =</div>
<div class="line">{</div>
<div class="line"> .<a class="code" href="group__tsi__driver.html#ac06cfdf8d812c700ab637da3339bdddf">config</a> =</div>
<div class="line">    {</div>
<div class="line">       ...</div>
<div class="line">    },</div>
<div class="line">  .pCallBackFunc = APP_myTsiCallBackFunc,</div>
<div class="line">  .usrData = myData,</div>
<div class="line">};</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#gadae9cf629a994a96fe9be0bb83992b6d">TSI_DRV_Init</a>(0, &amp;myTsiDriverStateStructure, &amp;myTsiDriveruserConfig) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">   <span class="comment">// Error, the TSI is not initialized</span></div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">tsiState</td><td>A pointer to the TSI driver state structure memory. The user is only responsible to pass in the memory for this run-time state structure where the TSI driver will take care of filling out the members. This run-time state structure keeps track of the current TSI peripheral and driver state. </td></tr>
    <tr><td class="paramname">tsiUserConfig</td><td>The user configuration structure of type <a class="el" href="group__tsi__driver.html#structtsi__user__config__t" title="User configuration structure for TSI driver. ">tsi_user_config_t</a>. The user populates the members of this structure and passes the pointer of this structure into the function. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga84ed5339149e76ba1a63415e512e7aa3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_DeInit </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function disables the TSI interrupts and the peripheral.</p>
<div class="fragment"><div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga84ed5339149e76ba1a63415e512e7aa3">TSI_DRV_DeInit</a>(0) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">   <span class="comment">// Error, the TSI is not de-initialized</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga009f75442d87b335b74a809835506f8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_EnableElectrode </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>enable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function must be called for each used electrodes after initialization of TSI driver.</p>
<div class="fragment"><div class="line">    <span class="comment">// On the TSI instance 0, enable electrode with index 5</span></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga009f75442d87b335b74a809835506f8c">TSI_DRV_EnableElectrode</a>(0, 5, TRUE) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI 5&#39;th electrode is not enabled</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">channel</td><td>Index of TSI channel. </td></tr>
    <tr><td class="paramname">enable</td><td>TRUE - for channel enable, FALSE for disable. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="gafd1a247495cb551edbc6a010424e314c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t TSI_DRV_GetEnabledElectrodes </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function returns the mask of the enabled electrodes of the current mode.</p>
<div class="fragment"><div class="line">uint32_t enabledElectrodeMask;</div>
<div class="line">enabledElectrodeMask = <a class="code" href="group__tsi__driver.html#gafd1a247495cb551edbc6a010424e314c">TSI_DRV_GetEnabledElectrodes</a>(0);</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Mask of enabled electrodes for current mode. </dd></dl>

</div>
</div>
<a class="anchor" id="ga86b101dbf4486218e09e5967fb1e7f5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_Measure </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function is non blocking. Therefore, the results can be obtained after the driver completes the measure cycle. The end of the measure cycle can be checked by pooling the <a class="el" href="group__tsi__driver.html#gaac8a3969f549f2ba2d1c745f3e7e3f5e">TSI_DRV_GetStatus</a> function or wait for registered callback function by using the <a class="el" href="group__tsi__driver.html#ga575bd79753dccf3f4e50e46706f91c7f">TSI_DRV_SetCallBackFunc</a> or <a class="el" href="group__tsi__driver.html#gadae9cf629a994a96fe9be0bb83992b6d">TSI_DRV_Init</a>.</p>
<div class="fragment"><div class="line"><span class="comment">// Example of the pooling style of use of TSI_DRV_Measure() function</span></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga86b101dbf4486218e09e5967fb1e7f5e">TSI_DRV_Measure</a>(0) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI 5&#39;th electrode is not enabled</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">while</span>(<a class="code" href="group__tsi__driver.html#gaac8a3969f549f2ba2d1c745f3e7e3f5e">TSI_DRV_GetStatus</a>(0) != <a class="code" href="group__tsi__hal.html#ggae16b0cb31944dd3b945dd1493bc9a756afda8ad7e97544c71305c90c2dfa61c42">kStatus_TSI_Initialized</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Do something useful - don&#39;t waste the CPU cycle time</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga1d93f36fde89f95dd8d38aa4896ae96f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_MeasureBlocking </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function is blocking. Therefore, after the function call, the result of measured electrodes is available and can be obtained by calling the <a class="el" href="group__tsi__driver.html#ga74907730315ef4cbd3a7e53c9d194aab">TSI_DRV_GetCounter</a> function.</p>
<div class="fragment"><div class="line"><span class="comment">// Example of the TSI_DRV_Measure() function pooling style</span></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga1d93f36fde89f95dd8d38aa4896ae96f">TSI_DRV_MeasureBlocking</a>(0) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI 5&#39;th electrode is not enabled</span></div>
<div class="line">}<span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Get the result by TSI_DRV_GetCounter function</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga7b27646aaa2fc1218cb0ccbac8d9b509"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_AbortMeasure </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function aborts the running measure cycle. It is designed for unexpected situations and not targeted for standard use.</p>
<div class="fragment"><div class="line"><span class="comment">// Start measure by @ref TSI_DRV_Measure() function</span></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga86b101dbf4486218e09e5967fb1e7f5e">TSI_DRV_Measure</a>(0) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI 5&#39;th electrode is not enabled</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(isNeededAbort) <span class="comment">// I need abort measure from any application reason</span></div>
<div class="line">{</div>
<div class="line">    <a class="code" href="group__tsi__driver.html#ga7b27646aaa2fc1218cb0ccbac8d9b509">TSI_DRV_AbortMeasure</a>(0);</div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga74907730315ef4cbd3a7e53c9d194aab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_GetCounter </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>counter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns the last measured value in the previous measure cycle. The data is buffered inside the driver.</p>
<div class="fragment"><div class="line"><span class="comment">// Get the counter value from TSI instance 0 and 5th channel</span></div>
<div class="line"></div>
<div class="line">uint32_t result;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga74907730315ef4cbd3a7e53c9d194aab">TSI_DRV_GetCounter</a>(0, 5, &amp;result) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI 5&#39;th electrode is not read</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">channel</td><td>The TSI electrode index. </td></tr>
    <tr><td class="paramname">counter</td><td>The pointer to 16 bit value where will be stored channel counter value. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="gaac8a3969f549f2ba2d1c745f3e7e3f5e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_GetStatus </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns the current working status of the driver.</p>
<div class="fragment"><div class="line"><span class="comment">// Get the current status of TSI driver</span></div>
<div class="line"></div>
<div class="line"><a class="code" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> status;</div>
<div class="line"></div>
<div class="line">status = <a class="code" href="group__tsi__driver.html#gaac8a3969f549f2ba2d1c745f3e7e3f5e">TSI_DRV_GetStatus</a>(0);</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An current status of the driver. </dd></dl>

</div>
</div>
<a class="anchor" id="ga4b364e0c04feb37e50f3f14fa7c31240"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_EnableLowPower </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function switches the driver to low power mode and immediately enables the low power functionality of the TSI peripheral. Before calling this function, the low power mode must be configured - Enable the right electrode and recalibrate the low power mode to get the best performance for this mode.</p>
<div class="fragment"><div class="line"><span class="comment">// Switch the driver to the low power mode</span></div>
<div class="line">uint16_t signal;</div>
<div class="line"></div>
<div class="line"><span class="comment">// The first time is needed to configure the low power mode configuration</span></div>
<div class="line"></div>
<div class="line">(void)<a class="code" href="group__tsi__driver.html#ga56ad2cc9672ca83cdcf40d7204b08077">TSI_DRV_ChangeMode</a>(0, <a class="code" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202af218dcc0bee90e41180b5c58f3348d90">tsi_OpModeLowPower</a>); <span class="comment">// I don&#39;t check the result because I believe in.</span></div>
<div class="line"><span class="comment">// Enable the right one electrode for low power AKE up operation</span></div>
<div class="line">(void)<a class="code" href="group__tsi__driver.html#ga009f75442d87b335b74a809835506f8c">TSI_DRV_EnableElectrode</a>(0, 5, <span class="keyword">true</span>);</div>
<div class="line"><span class="comment">// Recalibrate the mode to get the best performance for this one electrode</span></div>
<div class="line">(void)<a class="code" href="group__tsi__driver.html#gae32c63bb4f527cc68adc39ccc958149d">TSI_DRV_Recalibrate</a>(0, &amp;signal);</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga4b364e0c04feb37e50f3f14fa7c31240">TSI_DRV_EnableLowPower</a>(0) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI driver can&#39;t go to low power mode</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga0e9ef33fe2d4d2ff0c5cd4d0a43ed87e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_DisableLowPower </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Function switch the driver back form low power mode and it can immediately change the operation mode to any other or keep the driver in low power configuration, to be able go back to low power state.</p>
<div class="fragment"><div class="line"><span class="comment">// Switch the driver from the low power mode</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga0e9ef33fe2d4d2ff0c5cd4d0a43ed87e">TSI_DRV_DisableLowPower</a>(0, <a class="code" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202a8476ba7726647ce5db603baf04cc51c6">tsi_OpModeNormal</a>) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI driver can&#39;t go from low power mode</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">mode</td><td>The new operation mode request </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="gae32c63bb4f527cc68adc39ccc958149d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_Recalibrate </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>lowestSignal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function forces the driver to start the recalibration procedure for the current operation mode to get the best possible TSI hardware settings. The computed setting is stored into the operation mode data and can be loaded and saved by the <a class="el" href="group__tsi__driver.html#gaba6898571a90849c5033a516d4323c75">TSI_DRV_LoadConfiguration</a> or the <a class="el" href="group__tsi__driver.html#gac3adb8d865736779f037c0d84b540417">TSI_DRV_SaveConfiguration</a> functions.</p>
<dl class="section warning"><dt>Warning</dt><dd>The function could take more time to return and is blocking.</dd></dl>
<div class="fragment"><div class="line"><span class="comment">// Recalibrate current mode</span></div>
<div class="line">uint16_t signal;</div>
<div class="line"></div>
<div class="line"><span class="comment">// Recalibrate the mode to get the best performance for this one electrode</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#gae32c63bb4f527cc68adc39ccc958149d">TSI_DRV_Recalibrate</a>(0, &amp;signal) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI driver can&#39;t recalibrate this mode</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">lowestSignal</td><td>The pointer to variable where will be store the lowest signal of all electrodes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga575bd79753dccf3f4e50e46706f91c7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_SetCallBackFunc </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__tsi__driver.html#ga06c8a253cee00f407105143acbc36c36">tsi_callback_t</a>&#160;</td>
          <td class="paramname"><em>pFuncCallBack</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>usrData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function sets up or clears, (parameter pFuncCallBack = NULL), the callback function pointer which is called after each measure cycle ends. The user can also set the custom user data, that is handled by the parameter to a call back function. One function can be called by more sources.</p>
<div class="fragment"><div class="line"><span class="comment">// Clear previous call back function</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga575bd79753dccf3f4e50e46706f91c7f">TSI_DRV_SetCallBackFunc</a>(0, NULL, NULL) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI driver can&#39;t set up the call back function at the moment</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="comment">// Set new call back function</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga575bd79753dccf3f4e50e46706f91c7f">TSI_DRV_SetCallBackFunc</a>(0, myFunction, (<span class="keywordtype">void</span>*)0x12345678) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI driver can&#39;t set up the call back function at the moment</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">pFuncCallBack</td><td>The pointer to application call back function </td></tr>
    <tr><td class="paramname">usrData</td><td>The user data pointer </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga56ad2cc9672ca83cdcf40d7204b08077"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_ChangeMode </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function changes the working operation mode of the driver.</p>
<div class="fragment"><div class="line"><span class="comment">// Change operation mode to low power</span></div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#ga56ad2cc9672ca83cdcf40d7204b08077">TSI_DRV_ChangeMode</a>(0, <a class="code" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202af218dcc0bee90e41180b5c58f3348d90">tsi_OpModeLowPower</a>) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI driver can&#39;t change the operation mode into low power</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">mode</td><td>The requested new operation mode </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="ga3595af3dd86d57eced36b49a1f9ff447"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a> TSI_DRV_GetMode </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function returns the current working operation mode of the driver.</p>
<div class="fragment"><div class="line"><span class="comment">// Gets current operation mode of TSI driver</span></div>
<div class="line"><a class="code" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a> mode;</div>
<div class="line"></div>
<div class="line">mode = <a class="code" href="group__tsi__driver.html#ga3595af3dd86d57eced36b49a1f9ff447">TSI_DRV_GetMode</a>(0);</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An current operation mode of TSI driver. </dd></dl>

</div>
</div>
<a class="anchor" id="gaba6898571a90849c5033a516d4323c75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_LoadConfiguration </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a> *&#160;</td>
          <td class="paramname"><em>operationMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function loads the new configuration into a specific mode. This can be used when the calibrated data are stored in any NVM to load after startup of the MCU to avoid run recalibration that takes more time.</p>
<div class="fragment"><div class="line"><span class="comment">// Load operation mode configuration</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">extern</span> <span class="keyword">const</span> <a class="code" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a> * myTsiNvmLowPowerConfiguration;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#gaba6898571a90849c5033a516d4323c75">TSI_DRV_LoadConfiguration</a>(0, <a class="code" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202af218dcc0bee90e41180b5c58f3348d90">tsi_OpModeLowPower</a>, myTsiNvmLowPowerConfiguration) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI driver can&#39;t load the configuration</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">mode</td><td>The requested new operation mode </td></tr>
    <tr><td class="paramname">operationMode</td><td>The pointer to storage place of the configuration that should be loaded </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<a class="anchor" id="gac3adb8d865736779f037c0d84b540417"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__hal.html#gae16b0cb31944dd3b945dd1493bc9a756">tsi_status_t</a> TSI_DRV_SaveConfiguration </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>instance</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__tsi__driver.html#ga7a1c44ef526eb168efeb5325c4206202">tsi_modes_t</a>&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a> *&#160;</td>
          <td class="paramname"><em>operationMode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function saves the configuration of a specific mode. This can be used when the calibrated data should be stored in any backup memory to load after the start of the MCU to avoid running the recalibration that takes more time.</p>
<div class="fragment"><div class="line"><span class="comment">// Save operation mode configuration</span></div>
<div class="line"></div>
<div class="line"><span class="keyword">extern</span> <a class="code" href="group__tsi__driver.html#structtsi__operation__mode__t">tsi_operation_mode_t</a>  myTsiNvmLowPowerConfiguration;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span>(<a class="code" href="group__tsi__driver.html#gac3adb8d865736779f037c0d84b540417">TSI_DRV_SaveConfiguration</a>(0, <a class="code" href="group__tsi__driver.html#gga7a1c44ef526eb168efeb5325c4206202af218dcc0bee90e41180b5c58f3348d90">tsi_OpModeLowPower</a>, &amp;myTsiNvmLowPowerConfiguration) != kStatus_TSI_Success)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Error, the TSI driver can&#39;t save the configuration</span></div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">instance</td><td>The TSI module instance. </td></tr>
    <tr><td class="paramname">mode</td><td>The requested new operation mode </td></tr>
    <tr><td class="paramname">operationMode</td><td>The pointer to storage place of the configuration that should be save </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An error code or kStatus_TSI_Success. </dd></dl>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga567d8769cc27b126e0e155b92b6de588"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TSI_Type* const g_tsiBase[]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="gac407efd6876a4040954c3bf056e661ab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const IRQn_Type g_tsiIrqId[TSI_INSTANCE_COUNT]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ga9436b458136ebfec9c31cac0e3257879"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__tsi__driver.html#structtsi__state__t">tsi_state_t</a>* g_tsiStatePtr[TSI_INSTANCE_COUNT]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul class="foot">
    <li class="footer">Thu Sep 24 2015 &copy; 2015 Freescale Semiconductor, Inc. All rights reserved.
    </li>
  </ul>
</div>
</body>
</html>
