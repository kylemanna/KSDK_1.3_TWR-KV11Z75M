<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Kinetis SDK v.1.3 Demo Applications User&#39;s Guide: Power Manager HAL Demo</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="fs_logo.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kinetis SDK v.1.3 Demo Applications User&#39;s Guide
   &#160;<span id="projectnumber">Rev. 0</span>
   </div>
   <div id="projectbrief">Freescale Semiconductor, Inc.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__power__manager__hal__demo.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Power Manager HAL Demo</div>  </div>
</div><!--header-->
<div class="contents">
<h1><a class="anchor" id="PMDOv"></a>
Overview</h1>
<p>The Power Manager demo application demonstrates different Power Manager modes supported by the Kinetis SoCs. The set of supported low power modes and their transition possibility differ platform to platform. See section: "System Mode Controller" in a Reference Manual for each Kinetis sub-family microcontroller.</p>
<h1><a class="anchor" id="PMDSH"></a>
Supported Hardware</h1>
<p>These Freescale Freedom development platforms and Tower System modules are supported by the Kinetis software development kit Power Manager demo.</p>
<ul>
<li>FRDM-K22F</li>
<li>FRDM-K64F</li>
<li>FRDM-KL02Z</li>
<li>FRDM-KL03Z</li>
<li>FRDM-KL25Z</li>
<li>FRDM-KL26Z</li>
<li>FRDM-KL27Z</li>
<li>FRDM-KL43Z</li>
<li>FRDM-KL46Z</li>
<li>FRDM-KV10Z</li>
<li>FRDM-KV31F</li>
<li>FRDM-KW24</li>
<li>FRDM-KW40Z</li>
<li>MRB-KW01</li>
<li>TWR-K21D50M</li>
<li>TWR-K21F120M</li>
<li>TWR-K22F120M</li>
<li>TWR-K24F120M</li>
<li>TWR-K60D100M</li>
<li>TWR-K64F120M</li>
<li>TWR-K65F180M</li>
<li>TWR-K80F150M</li>
<li>TWR-KL43Z48M</li>
<li>TWR-KM34Z75M</li>
<li>TWR-KV10Z32</li>
<li>TWR-KV11Z75M</li>
<li>TWR-KV31F120M</li>
<li>TWR-KW24D512</li>
<li>USB-KW40Z</li>
</ul>
<h1><a class="anchor" id="SR"></a>
System Requirement</h1>
<h2><a class="anchor" id="HwR"></a>
Hardware requirements</h2>
<ul>
<li>J-Link ARM</li>
<li>P&amp;E Micro Multi-link universal</li>
<li>Mini/micro USB cable</li>
<li>USB A to micro AB cable</li>
<li>Hardware (tower/base board, ...) for a specific device</li>
<li>Personal Computer</li>
</ul>
<h2><a class="anchor" id="SDKReq"></a>
Software requirements</h2>
<ul>
<li>The project files are in: &lt;SDK_Install&gt;/examples/&lt;board&gt;/demo_apps/power_manager_hal_demo/&lt;toolchain&gt;.</li>
<li>Library dependencies: ksdk_platform_lib</li>
</ul>
<h1><a class="anchor" id="PMDGS"></a>
Getting Started</h1>
<h2><a class="anchor" id="PMDHS"></a>
Hardware Settings</h2>
<p>The demo does not require any special hardware configurations. Although not required, the recommendation is to leave the development board jumper settings and configurations in default state when running this demo.</p>
<h2><a class="anchor" id="PMDPD"></a>
Prepare the Demo</h2>
<p>Follow the instructions in <em>Getting Started with Kinetis Software Development Kit</em> (KSDK) to:</p>
<ul>
<li>Set up hardware connections</li>
<li>Configure a Terminal session</li>
<li>Build and download application to targeted devices</li>
</ul>
<p>Note: The demo is configured to work with the Terminal baudrate at 9600 bps. When running the demo, unplug all debugger devices. For the MRB-KW01, it is necessary to connect on the J8 pins 2-3.</p>
<h2><a class="anchor" id="PMDRD"></a>
Run the demo</h2>
<ol type="1">
<li>Press the reset button on the hardware.</li>
<li>A control menu is displayed on the Terminal window. Note that the list on the menu is not the same for all platforms.</li>
</ol>
<p>It depends on the list of supported low power modes. For example, on the TWR-K64F120M, this menu displays:</p>
<div> <pre class="fragment">
<h6>#############  Power Manager Demo</h6>
</pre></div><div><pre class="fragment">
<pre class="fragment">Core Clock = 48000000Hz

SMC mode = kStatRun
</pre></pre></div><div><pre class="fragment">Select the desired operation</pre></div><div><pre class="fragment">Press  A for enter: RUN   - Normal RUN mode</pre></div><div><pre class="fragment">Press  B for enter: Wait  - Wait mode</pre></div><div><pre class="fragment">Press  C for enter: Stop  - Stop mode</pre></div><div><pre class="fragment">Press  D for enter: VLPR  - Very Low Power Run mode</pre></div><div><pre class="fragment">Press  E for enter: VLPW  - Very Low Power Wait mode</pre></div><div><pre class="fragment">Press  F for enter: VLPS  - Very Low Power Stop mode</pre></div><div><pre class="fragment">Press  G for enter: LLS   - Low Leakage Stop mode</pre></div><div><pre class="fragment">Press  H for enter: VLLS0 - Very Low Leakage Stop 0 mode</pre></div><div><pre class="fragment">Press  I for enter: VLLS1 - Very Low Leakage Stop 1 mode</pre></div><div><pre class="fragment">Press  J for enter: VLLS3 - Very Low Leakage Stop 3 mode</pre></div><div><pre class="fragment">Waiting for key to be pressed...
    </pre> </div><ol type="1">
<li>Enter a command by pressing the corresponding input key. If the user enters an invalid mode transition, the demo displays this message on the terminal window: <div> <pre class="fragment">
Cannot go from RUN to VLPW directly.
Next loop
    </pre> </div> In most valid mode transitions, the SoC wakes up after receiving the RTC alarm or the GPIO switch trigger. However, in some modes, the SoC only accepts either RTC alarm or the GPIO switch trigger. In that case, the demo prints the following message on the terminal: Note: On the FRDM-KL25Z, FRDM-KL26Z and FRDM-KL46Z, the RTC counter is fed without the 32 Khz (OSC32KCLK) clock. Therefore, the accuracy of RTC alarms is impacted. <div> <pre class="fragment">
The board does not support wake up from this mode by RTC due to disabled External reference.
Entering Very Low Leakage Stop 0 mode, press the SW1 button to wake up.
Wake up goes through Reset sequence.
    </pre> </div></li>
</ol>
<h2><a class="anchor" id="PMDSPM"></a>
Supported Low Power Modes By Platform</h2>
<p>This table shows the supported modes on different platforms: </p>
<div> <table class="doxtable">
<tr>
<th rowspan="1">Platform </th><th rowspan="1">Supported Power Modes </th><th rowspan="1">Wakeup Sources  </th></tr>
<tr>
<td align="left">FRDM-K22F </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS3, VLLS0, VLLS1, VLLS2, VLLS3, RUN(80MHz), HSRUN(120MHz) </td><td align="left">RTC, SW2  </td></tr>
<tr>
<td align="left">FRDM-K64F </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS, VLLS0, VLLS1, VLLS2, VLLS3, RUN(120MHz) </td><td align="left">RTC, SW2  </td></tr>
<tr>
<td align="left">FRDM-KL02Z48M </td><td align="left">WAIT, STOP, VLPR(1 MHz), VLPW, VLPS, VLLS1, VLLS3, RUN(48MHz) </td><td align="left">LPTMR  </td></tr>
<tr>
<td align="left">FRDM-KL03Z48M </td><td align="left">WAIT, STOP, VLPR(2 MHz), VLPW, VLPS, LLS, VLLS0, VLLS1, VLLS3, RUN(48MHz) </td><td align="left">RTC, SW2  </td></tr>
<tr>
<td align="left">FRDM-KL25Z </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS, VLLS0, VLLS1, VLLS3, RUN(48MHz) </td><td align="left">RTC, PTD6 J2-17 to VSS J9-14  </td></tr>
<tr>
<td align="left">FRDM-KL26Z </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS, VLLS0, VLLS1, VLLS3, RUN(48MHz) </td><td align="left">RTC, SW1  </td></tr>
<tr>
<td align="left">FRDM-KL27Z </td><td align="left">WAIT, STOP, VLPR(2 MHz), VLPW, VLPS, LLS, VLLS0, VLLS1, VLLS3, RUN(48MHz) </td><td align="left">RTC, SW3  </td></tr>
<tr>
<td align="left">FRDM-KL43Z </td><td align="left">WAIT, STOP, VLPR(2 MHz), VLPW, VLPS, LLS, VLLS0, VLLS1, VLLS3, RUN(48MHz) </td><td align="left">RTC, SW3  </td></tr>
<tr>
<td align="left">FRDM-KL46Z </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS, VLLS0, VLLS1, VLLS3, RUN(48MHz) </td><td align="left">RTC, SW1  </td></tr>
<tr>
<td align="left">FRDM-KV10Z </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, VLLS0, VLLS1, VLLS3, RUN(75MHz) </td><td align="left">RTC, SW3  </td></tr>
<tr>
<td align="left">FRDM-KV31F </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS3, VLLS0, VLLS1, VLLS2, VLLS3, RUN(80MHz), HSRUN(120MHz) </td><td align="left">RTC, SW3  </td></tr>
<tr>
<td align="left">FRDM-KW24 </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS, VLLS0, VLLS1, VLLS2, VLLS3, RUN(48MHz) </td><td align="left">RTC, SW1  </td></tr>
<tr>
<td align="left">FRDM-KW40Z </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS3, VLLS0, VLLS1, VLLS2, VLLS3, RUN(32MHz) </td><td align="left">RTC, SW2  </td></tr>
<tr>
<td align="left">MRB-KW01 </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS, VLLS1, VLLS3, RUN(48MHz) </td><td align="left">RTC  </td></tr>
<tr>
<td align="left">TWR-K21D50M </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS, VLLS0, VLLS1, VLLS2, VLLS3, RUN(48MHz) </td><td align="left">RTC, SW1  </td></tr>
<tr>
<td align="left">TWR-K21F120M </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS, VLLS0, VLLS1, VLLS2, VLLS3, RUN(120MHz) </td><td align="left">RTC, SW3  </td></tr>
<tr>
<td align="left">TWR-K22F120M </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS3, VLLS0, VLLS1, VLLS2, VLLS3, RUN(80MHz), HSRUN(120MHz) </td><td align="left">RTC, SW1  </td></tr>
<tr>
<td align="left">TWR-K24F120M </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS, VLLS0, VLLS1, VLLS2, VLLS3, RUN(120MHz) </td><td align="left">RTC, SW2  </td></tr>
<tr>
<td align="left">TWR-K60D100M </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS, VLLS1, VLLS2, VLLS3, RUN(96MHz) </td><td align="left">RTC, SW1  </td></tr>
<tr>
<td align="left">TWR-K64F120M </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS, VLLS0, VLLS1, VLLS2, VLLS3, RUN(120MHz) </td><td align="left">RTC, SW1  </td></tr>
<tr>
<td align="left">TWR-K65F180M </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS3, VLLS0, VLLS1, VLLS2, VLLS3, RUN(120MHz), HSRUN(180MHz) </td><td align="left">RTC, SW3  </td></tr>
<tr>
<td align="left">TWR-K80F150M </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS3, VLLS0, VLLS1, VLLS2, VLLS3, RUN(120MHz), HSRUN(150MHz) </td><td align="left">RTC, SW3  </td></tr>
<tr>
<td align="left">TWR-KL43Z48M </td><td align="left">WAIT, STOP, VLPR(2 MHz), VLPW, VLPS, LLS, VLLS1, VLLS3, RUN(48MHz) </td><td align="left">RTC, SW2  </td></tr>
<tr>
<td align="left">TWR-KM34Z75M </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, VLLS0, VLLS1, VLLS2, VLLS3, RUN(72MHz) </td><td align="left">RTC, SW1  </td></tr>
<tr>
<td align="left">TWR-KV10Z32 </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, VLLS0, VLLS1, VLLS3, RUN(75MHz) </td><td align="left">RTC, SW2  </td></tr>
<tr>
<td align="left">TWR-KV31F120M </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS3, VLLS0, VLLS1, VLLS2, VLLS3, RUN(80MHz), HSRUN(120MHz) </td><td align="left">RTC, SW1  </td></tr>
<tr>
<td align="left">TWR-KV11Z75M </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, VLLS0, VLLS1, VLLS3, RUN(75MHz) </td><td align="left">RTC, SW2  </td></tr>
<tr>
<td align="left">TWR-KW24D512 </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS, VLLS0, VLLS1, VLLS2, VLLS3, RUN(48MHz) </td><td align="left">RTC, SW3  </td></tr>
<tr>
<td align="left">USB-KW40Z </td><td align="left">WAIT, STOP, VLPR(4 MHz), VLPW, VLPS, LLS3, VLLS1, VLLS2, VLLS3, RUN(21MHz) </td><td align="left">RTC  </td></tr>
</table>
</div> </div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul class="foot">
    <li class="footer">Wed Nov 11 2015 &copy; 2015 Freescale Semiconductor, Inc. All rights reserved.
    </li>
  </ul>
</div>
</body>
</html>
