<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Kinetis SDK v.1.3 Demo Applications User&#39;s Guide: main_bm_slave.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="fs_logo.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kinetis SDK v.1.3 Demo Applications User&#39;s Guide
   &#160;<span id="projectnumber">Rev. 0</span>
   </div>
   <div id="projectbrief">Freescale Semiconductor, Inc.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Demos</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('main__bm__slave_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main_bm_slave.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br/>
<code>#include &quot;fsl_clock_manager.h&quot;</code><br/>
<code>#include &quot;board.h&quot;</code><br/>
<code>#include &quot;fsl_pmc_hal.h&quot;</code><br/>
<code>#include &quot;fsl_debug_console.h&quot;</code><br/>
<code>#include &quot;fsl_i2c_master_driver.h&quot;</code><br/>
<code>#include &quot;fsl_i2c_slave_driver.h&quot;</code><br/>
<code>#include &quot;fsl_smc_hal.h&quot;</code><br/>
<code>#include &quot;<a class="el" href="i2c__rtos_8h_source.html">i2c_rtos.h</a>&quot;</code><br/>
<code>#include &quot;fsl_adc16_driver.h&quot;</code><br/>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ad1cb1210a1062abeaffc2bfb142a0fef"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__bm__slave_8c.html#ad1cb1210a1062abeaffc2bfb142a0fef">ADCR_VDD</a></td></tr>
<tr class="memdesc:ad1cb1210a1062abeaffc2bfb142a0fef"><td class="mdescLeft">&#160;</td><td class="mdescRight">These values are used to get the temperature. DO NOT MODIFY The method used in this demo to calculate temperature of chip is mapped to Temperature Sensor for the HCS08 Microcontroller Family document (Document Number: AN3031)  <a href="#ad1cb1210a1062abeaffc2bfb142a0fef">More...</a><br/></td></tr>
<tr class="separator:ad1cb1210a1062abeaffc2bfb142a0fef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add266b4695ff28798e98c58017a068da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__bm__slave_8c.html#add266b4695ff28798e98c58017a068da">V_BG</a></td></tr>
<tr class="separator:add266b4695ff28798e98c58017a068da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0411b168217e237bf124c69d80cb34da"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__bm__slave_8c.html#a0411b168217e237bf124c69d80cb34da">V_TEMP25</a></td></tr>
<tr class="separator:a0411b168217e237bf124c69d80cb34da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52037c938e3c1b126c6277da5ca689d0"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__bm__slave_8c.html#a52037c938e3c1b126c6277da5ca689d0">M</a></td></tr>
<tr class="separator:a52037c938e3c1b126c6277da5ca689d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a881d8ee2db088be628ec58d76047b950"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__bm__slave_8c.html#a881d8ee2db088be628ec58d76047b950">STANDARD_TEMP</a></td></tr>
<tr class="separator:a881d8ee2db088be628ec58d76047b950"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af521e787d92b7f1584dff263cba9d014"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__bm__slave_8c.html#af521e787d92b7f1584dff263cba9d014">calibrateParams</a> (void)</td></tr>
<tr class="memdesc:af521e787d92b7f1584dff263cba9d014"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parameters calibration: VDD and ADCR_TEMP25.  <a href="#af521e787d92b7f1584dff263cba9d014">More...</a><br/></td></tr>
<tr class="separator:af521e787d92b7f1584dff263cba9d014"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76239102c1d8a0deeb3c9e3007391ec4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__bm__slave_8c.html#a76239102c1d8a0deeb3c9e3007391ec4">task_slave</a> (void *param)</td></tr>
<tr class="separator:a76239102c1d8a0deeb3c9e3007391ec4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ab30255005b851752100d948913e9c0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__bm__slave_8c.html#a3ab30255005b851752100d948913e9c0">OSA_TASK_DEFINE</a> (<a class="el" href="task__slave_8c.html#a0dbf76073a70eeda1e83d777abe0aa1b">task_slave</a>, TASK_SLAVE_STACK_SIZE)</td></tr>
<tr class="separator:a3ab30255005b851752100d948913e9c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46ab61606d4cedf52a81fa0525cf1773"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__bm__slave_8c.html#a46ab61606d4cedf52a81fa0525cf1773">get_temp_pointer</a> (void)</td></tr>
<tr class="separator:a46ab61606d4cedf52a81fa0525cf1773"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__qspi__driver.html#ga840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:ga840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">main function  <a href="group__qspi__driver.html#ga840291bc02cba5474a4cb46a9b9566fe">More...</a><br/></td></tr>
<tr class="separator:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ab5c5125401ca333961c6dee754e0c1a5"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__bm__slave_8c.html#ab5c5125401ca333961c6dee754e0c1a5">gSlaveId</a></td></tr>
<tr class="separator:ab5c5125401ca333961c6dee754e0c1a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1246987bf125a3024d1b73d89d3bb345"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__bm__slave_8c.html#a1246987bf125a3024d1b73d89d3bb345">adcrTemp25</a></td></tr>
<tr class="separator:a1246987bf125a3024d1b73d89d3bb345"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f3baec4295d29513107b11115f8fdee"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__bm__slave_8c.html#a8f3baec4295d29513107b11115f8fdee">adcr100m</a></td></tr>
<tr class="separator:a8f3baec4295d29513107b11115f8fdee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6460ae4ad1bf348486378ed1456f1cfa"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__bm__slave_8c.html#a6460ae4ad1bf348486378ed1456f1cfa">temperature</a></td></tr>
<tr class="separator:a6460ae4ad1bf348486378ed1456f1cfa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06d57bc8fdc9c6c28bf37648d26f8294"><td class="memItemLeft" align="right" valign="top">adc16_converter_config_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__bm__slave_8c.html#a06d57bc8fdc9c6c28bf37648d26f8294">tempSnseAdcConfig</a></td></tr>
<tr class="separator:a06d57bc8fdc9c6c28bf37648d26f8294"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab728130ed4c3a9e8590890d7b0a3989"><td class="memItemLeft" align="right" valign="top">adc16_chn_config_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="main__bm__slave_8c.html#aab728130ed4c3a9e8590890d7b0a3989">tempSnseChannelConfig</a></td></tr>
<tr class="separator:aab728130ed4c3a9e8590890d7b0a3989"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ad1cb1210a1062abeaffc2bfb142a0fef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ADCR_VDD</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a52037c938e3c1b126c6277da5ca689d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define M</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a881d8ee2db088be628ec58d76047b950"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define STANDARD_TEMP</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="add266b4695ff28798e98c58017a068da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define V_BG</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a0411b168217e237bf124c69d80cb34da"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define V_TEMP25</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af521e787d92b7f1584dff263cba9d014"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void calibrateParams </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This function used BANDGAP as reference voltage to measure vdd and calibrate V_TEMP25 with that vdd value. </p>
<p>ADC value of BANDGAP</p>
<p>VDD in mV </p>

</div>
</div>
<a class="anchor" id="a46ab61606d4cedf52a81fa0525cf1773"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t* get_temp_pointer </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get the temperature pointer designed for BM version of I2C_RTOS demo from the ISR context </p>

</div>
</div>
<a class="anchor" id="a3ab30255005b851752100d948913e9c0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">OSA_TASK_DEFINE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="task__slave_8c.html#a0dbf76073a70eeda1e83d777abe0aa1b">task_slave</a>&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TASK_SLAVE_STACK_SIZE&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a76239102c1d8a0deeb3c9e3007391ec4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void task_slave </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>param</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a8f3baec4295d29513107b11115f8fdee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t adcr100m</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a1246987bf125a3024d1b73d89d3bb345"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t adcrTemp25</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="ab5c5125401ca333961c6dee754e0c1a5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t gSlaveId</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a6460ae4ad1bf348486378ed1456f1cfa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t temperature</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a06d57bc8fdc9c6c28bf37648d26f8294"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">adc16_converter_config_t tempSnseAdcConfig</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aab728130ed4c3a9e8590890d7b0a3989"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">adc16_chn_config_t tempSnseChannelConfig</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul class="foot">
    <li class="footer">Thu Sep 24 2015 &copy; 2015 Freescale Semiconductor, Inc. All rights reserved.
    </li>
  </ul>
</div>
</body>
</html>
