<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Kinetis SDK v.1.3 Demo Applications User&#39;s Guide: SPI Example with other methods</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="fs_logo.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Kinetis SDK v.1.3 Demo Applications User&#39;s Guide
   &#160;<span id="projectnumber">Rev. 0</span>
   </div>
   <div id="projectbrief">Freescale Semiconductor, Inc.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>API&#160;Reference</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__spi__example.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">SPI Example with other methods</div>  </div>
</div><!--header-->
<div class="contents">
<h1><a class="anchor" id="Ovw"></a>
Overview</h1>
<p>The SPI Example project is a demonstration program that uses the KSDK software. This example provides 5 examples SPI board to board with 5 modes: SPI polling, non-blocking, blocking, DMA blocking, DMA non blocking, and SPI loopback.</p>
<ul>
<li>SPI board to board:<ul>
<li>Transfer data through instance 0 of SPI interface, SPI0 pins of master board are connected with SPI0 pins of slave board.</li>
<li>Ensure that all SPI board-to-board connections are kept as short as possible and that a solid ground wire is connected between the boards. Preferably this ground connection should be as close as possible to the SPI signals on each board. A poor board-to-board connection compromises data signal integrity causing failures in the example.</li>
<li>Master send an array to slave and receive the array back from slave, compare whether the two buffers are the same. Slave send back received buffer from master. Set up the slave first.</li>
</ul>
</li>
<li>SPI master loopback:<ul>
<li>Transfer data through instance 0 of SPI interface, MISO pin and MOSI pin are connected</li>
<li>Send an array out through MISO pin and compare it with received buffer from MOSI pin</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="SP"></a>
Supported Platforms</h1>
<p>These Freescale Freedom development platforms and Tower System modules are supported by the SPI example.</p>
<ul>
<li>FRDM-KL02Z <span style="color:red">(*) (DMA not supported) </span></li>
<li>FRDM-KL03Z <span style="color:red">(*) (DMA not supported) </span></li>
<li>FRDM-KL25Z <span style="color:red">(*) (DMA not supported) </span></li>
<li>FRDM-KL26Z</li>
<li>FRDM-KL27Z <span style="color:red">(*) (DMA not supported) </span></li>
<li>FRDM-KL43Z</li>
<li>FRDM-KL46Z</li>
<li>MRB-KW01</li>
<li>TWR-KL25Z48M <span style="color:red">(*) (DMA not supported) </span></li>
<li>TWR-KL43Z48M</li>
<li>TWR-KM34Z75M</li>
</ul>
<h1><a class="anchor" id="SR"></a>
System Requirement</h1>
<h2><a class="anchor" id="HwR"></a>
Hardware requirements</h2>
<ul>
<li>J-Link ARM</li>
<li>P&amp;E Micro Multi-link universal</li>
<li>Mini/micro USB cable</li>
<li>USB A to micro AB cable</li>
<li>Hardware (Tower System/base board, ...) for specific device</li>
<li>Personal Computer</li>
</ul>
<h2><a class="anchor" id="SDKReq"></a>
Software requirements</h2>
<ul>
<li>The project files are in: &lt;SDK_Install&gt;/examples/&lt;board&gt;/driver_examples/spi/&lt;use_case&gt;/&lt;toolchain&gt;.</li>
<li>Library dependencies: ksdk_platform_lib</li>
</ul>
<h1><a class="anchor" id="GS"></a>
Getting Started</h1>
<h2><a class="anchor" id="HwS"></a>
Hardware settings</h2>
<ul>
<li>SPI master loopback:<ul>
<li>Transfer data through instance 0 of SPI interface, MISO pin and MOSI pin are connected</li>
</ul>
</li>
<li>SPI board to board:<ul>
<li>Transfer data through instance 0 of SPI interface, SPI0 pins of master board are connected with SPI0 pins of slave board</li>
</ul>
</li>
</ul>
<p>&lt;note&gt;For the MRB-KW01: Open J3 to disconnect PTD4(PCS0) with DIO4.&lt;/note&gt;</p>
<p>This example requires two separate boards. Connect instance SPI0 master to SPI0 slave:</p>
<h3>FRDM-KL02Z:</h3>
<div> <table class="doxtable">
<tr>
<td colspan="2" align="center" bgcolor="#2E9AFE">Master Board </td><td colspan="1" align="center" bgcolor="#2E9AFE">Connects To </td><td colspan="2" align="center" bgcolor="#2E9AFE">Slave Board  </td></tr>
<tr>
<td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location </td><td colspan="1" align="center" bgcolor="#2E9AFE"></td><td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location  </td></tr>
<tr>
<td align="center">MISO </td><td align="center">J7 pin 5 </td><td align="center">-&gt; </td><td align="center">MISO </td><td align="center">J7 pin 5  </td></tr>
<tr>
<td align="center">MOSI </td><td align="center">J7 pin 4 </td><td align="center">-&gt; </td><td align="center">MOSI </td><td align="center">J7 pin 4  </td></tr>
<tr>
<td align="center">SCK </td><td align="center">J7 pin 3 </td><td align="center">-&gt; </td><td align="center">SCK </td><td align="center">J7 pin 3  </td></tr>
<tr>
<td align="center">PCS0 </td><td align="center">J7 pin 6 </td><td align="center">-&gt; </td><td align="center">PCS0 </td><td align="center">J7 pin 6  </td></tr>
<tr>
<td align="center">GND </td><td align="center">J7 pin 7 </td><td align="center">-&gt; </td><td align="center">GND </td><td align="center">J7 pin 7  </td></tr>
</table>
</div><h3>FRDM-KL03Z:</h3>
<div> <table class="doxtable">
<tr>
<td colspan="2" align="center" bgcolor="#2E9AFE">Master Board </td><td colspan="1" align="center" bgcolor="#2E9AFE">Connects To </td><td colspan="2" align="center" bgcolor="#2E9AFE">Slave Board  </td></tr>
<tr>
<td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location </td><td colspan="1" align="center" bgcolor="#2E9AFE"></td><td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location  </td></tr>
<tr>
<td align="center">MISO </td><td align="center">J2 pin 3 </td><td align="center">-&gt; </td><td align="center">MISO </td><td align="center">J2 pin 3  </td></tr>
<tr>
<td align="center">MOSI </td><td align="center">J2 pin 5 </td><td align="center">-&gt; </td><td align="center">MOSI </td><td align="center">J2 pin 5  </td></tr>
<tr>
<td align="center">SCK </td><td align="center">J2 pin 4 </td><td align="center">-&gt; </td><td align="center">SCK </td><td align="center">J2 pin 4  </td></tr>
<tr>
<td align="center">PCS0 </td><td align="center">J2 pin 6 </td><td align="center">-&gt; </td><td align="center">PCS0 </td><td align="center">J2 pin 6  </td></tr>
<tr>
<td align="center">GND </td><td align="center">J2 pin 7 </td><td align="center">-&gt; </td><td align="center">GND </td><td align="center">J2 pin 7  </td></tr>
</table>
</div><h3>FRDM-KL25Z:</h3>
<div> <table class="doxtable">
<tr>
<td colspan="2" align="center" bgcolor="#2E9AFE">Master Board </td><td colspan="1" align="center" bgcolor="#2E9AFE">Connects To </td><td colspan="2" align="center" bgcolor="#2E9AFE">Slave Board  </td></tr>
<tr>
<td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location </td><td colspan="1" align="center" bgcolor="#2E9AFE"></td><td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location  </td></tr>
<tr>
<td align="center">MISO </td><td align="center">J1 pin 11 </td><td align="center">-&gt; </td><td align="center">MISO </td><td align="center">J1 pin 11  </td></tr>
<tr>
<td align="center">MOSI </td><td align="center">J1 pin 1 </td><td align="center">-&gt; </td><td align="center">MOSI </td><td align="center">J1 pin 1  </td></tr>
<tr>
<td align="center">SCK </td><td align="center">J1 pin 9 </td><td align="center">-&gt; </td><td align="center">SCK </td><td align="center">J1 pin 9  </td></tr>
<tr>
<td align="center">PCS0 </td><td align="center">J1 pin 7 </td><td align="center">-&gt; </td><td align="center">PCS0 </td><td align="center">J1 pin 7  </td></tr>
<tr>
<td align="center">GND </td><td align="center">J2 pin 14 </td><td align="center">-&gt; </td><td align="center">GND </td><td align="center">J2 pin 14  </td></tr>
</table>
</div><h3>FRDM-KL26Z:</h3>
<div> <table class="doxtable">
<tr>
<td colspan="2" align="center" bgcolor="#2E9AFE">Master Board </td><td colspan="1" align="center" bgcolor="#2E9AFE">Connects To </td><td colspan="2" align="center" bgcolor="#2E9AFE">Slave Board  </td></tr>
<tr>
<td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location </td><td colspan="1" align="center" bgcolor="#2E9AFE"></td><td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location  </td></tr>
<tr>
<td align="center">MISO </td><td align="center">J1 pin 9 </td><td align="center">-&gt; </td><td align="center">MISO </td><td align="center">J1 pin 9  </td></tr>
<tr>
<td align="center">MOSI </td><td align="center">J1 pin 11 </td><td align="center">-&gt; </td><td align="center">MOSI </td><td align="center">J1 pin 11  </td></tr>
<tr>
<td align="center">SCK </td><td align="center">J4 pin 9 </td><td align="center">-&gt; </td><td align="center">SCK </td><td align="center">J4 pin 9  </td></tr>
<tr>
<td align="center">PCS0 </td><td align="center">J1 pin 7 </td><td align="center">-&gt; </td><td align="center">PCS0 </td><td align="center">J1 pin 7  </td></tr>
<tr>
<td align="center">GND </td><td align="center">J2 pin 14 </td><td align="center">-&gt; </td><td align="center">GND </td><td align="center">J2 pin 14  </td></tr>
</table>
</div><h3>FRDM-KL27Z:</h3>
<div> <table class="doxtable">
<tr>
<td colspan="2" align="center" bgcolor="#2E9AFE">Master Board </td><td colspan="1" align="center" bgcolor="#2E9AFE">Connects To </td><td colspan="2" align="center" bgcolor="#2E9AFE">Slave Board  </td></tr>
<tr>
<td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location </td><td colspan="1" align="center" bgcolor="#2E9AFE"></td><td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location  </td></tr>
<tr>
<td align="center">MISO </td><td align="center">J2 pin 10 </td><td align="center">-&gt; </td><td align="center">MISO </td><td align="center">J2 pin 10  </td></tr>
<tr>
<td align="center">MOSI </td><td align="center">J2 pin 8 </td><td align="center">-&gt; </td><td align="center">MOSI </td><td align="center">J2 pin 8  </td></tr>
<tr>
<td align="center">SCK </td><td align="center">J2 pin 12 </td><td align="center">-&gt; </td><td align="center">SCK </td><td align="center">J2 pin 12  </td></tr>
<tr>
<td align="center">PCS0 </td><td align="center">J2 pin 6 </td><td align="center">-&gt; </td><td align="center">PCS0 </td><td align="center">J2 pin 6  </td></tr>
<tr>
<td align="center">GND </td><td align="center">J2 pin 14 </td><td align="center">-&gt; </td><td align="center">GND </td><td align="center">J2 pin 14  </td></tr>
</table>
</div><h3>FRDM-KL43Z:</h3>
<div> <table class="doxtable">
<tr>
<td colspan="2" align="center" bgcolor="#2E9AFE">Master Board </td><td colspan="1" align="center" bgcolor="#2E9AFE">Connects To </td><td colspan="2" align="center" bgcolor="#2E9AFE">Slave Board  </td></tr>
<tr>
<td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location </td><td colspan="1" align="center" bgcolor="#2E9AFE"></td><td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location  </td></tr>
<tr>
<td align="center">MISO </td><td align="center"></td><td align="center">-&gt; </td><td align="center">MISO </td><td align="center"></td></tr>
<tr>
<td align="center">MOSI </td><td align="center"></td><td align="center">-&gt; </td><td align="center">MOSI </td><td align="center"></td></tr>
<tr>
<td align="center">SCK </td><td align="center"></td><td align="center">-&gt; </td><td align="center">SCK </td><td align="center"></td></tr>
<tr>
<td align="center">PCS0 </td><td align="center"></td><td align="center">-&gt; </td><td align="center">PCS0 </td><td align="center"></td></tr>
<tr>
<td align="center">GND </td><td align="center"></td><td align="center">-&gt; </td><td align="center">GND </td><td align="center"></td></tr>
</table>
</div><h3>FRDM-KL46Z:</h3>
<div> <table class="doxtable">
<tr>
<td colspan="2" align="center" bgcolor="#2E9AFE">Master Board </td><td colspan="1" align="center" bgcolor="#2E9AFE">Connects To </td><td colspan="2" align="center" bgcolor="#2E9AFE">Slave Board  </td></tr>
<tr>
<td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location </td><td colspan="1" align="center" bgcolor="#2E9AFE"></td><td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location  </td></tr>
<tr>
<td align="center">MISO </td><td align="center">J3 pin 3 </td><td align="center">-&gt; </td><td align="center">MISO </td><td align="center">J3 pin 3  </td></tr>
<tr>
<td align="center">MOSI </td><td align="center">J3 pin 5 </td><td align="center">-&gt; </td><td align="center">MOSI </td><td align="center">J3 pin 5  </td></tr>
<tr>
<td align="center">SCK </td><td align="center">J3 pin 7 </td><td align="center">-&gt; </td><td align="center">SCK </td><td align="center">J3 pin 7  </td></tr>
<tr>
<td align="center">PCS0 </td><td align="center">J3 pin 9 </td><td align="center">-&gt; </td><td align="center">PCS0 </td><td align="center">J3 pin 9  </td></tr>
<tr>
<td align="center">GND </td><td align="center">J3 pin 14 </td><td align="center">-&gt; </td><td align="center">GND </td><td align="center">J3 pin 14  </td></tr>
</table>
</div><h3>MRB-KW01:</h3>
<div> <table class="doxtable">
<tr>
<td colspan="2" align="center" bgcolor="#2E9AFE">Master Board </td><td colspan="1" align="center" bgcolor="#2E9AFE">Connects To </td><td colspan="2" align="center" bgcolor="#2E9AFE">Slave Board  </td></tr>
<tr>
<td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location </td><td colspan="1" align="center" bgcolor="#2E9AFE"></td><td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location  </td></tr>
<tr>
<td align="center">MISO </td><td align="center">J15 pin 20 </td><td align="center">-&gt; </td><td align="center">MISO </td><td align="center">J15 pin 20  </td></tr>
<tr>
<td align="center">MOSI </td><td align="center">J15 pin 19 </td><td align="center">-&gt; </td><td align="center">MOSI </td><td align="center">J15 pin 19  </td></tr>
<tr>
<td align="center">SCK </td><td align="center">J15 pin 18 </td><td align="center">-&gt; </td><td align="center">SCK </td><td align="center">J15 pin 18  </td></tr>
<tr>
<td align="center">PCS0 </td><td align="center">J14 pin 16 </td><td align="center">-&gt; </td><td align="center">PCS0 </td><td align="center">J14 pin 16  </td></tr>
<tr>
<td align="center">GND </td><td align="center">J15 pin 15 </td><td align="center">-&gt; </td><td align="center">GND </td><td align="center">J15 pin 15  </td></tr>
</table>
</div><h3>TWR-KL43Z48M:</h3>
<div> <table class="doxtable">
<tr>
<td colspan="2" align="center" bgcolor="#2E9AFE">Master Board </td><td colspan="1" align="center" bgcolor="#2E9AFE">Connects To </td><td colspan="2" align="center" bgcolor="#2E9AFE">Slave Board  </td></tr>
<tr>
<td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location </td><td colspan="1" align="center" bgcolor="#2E9AFE"></td><td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location  </td></tr>
<tr>
<td align="center">MISO </td><td align="center">Primary Elevator B44 </td><td align="center">-&gt; </td><td align="center">MISO </td><td align="center">Primary Elevator B44  </td></tr>
<tr>
<td align="center">MOSI </td><td align="center">Primary Elevator B45 </td><td align="center">-&gt; </td><td align="center">MOSI </td><td align="center">Primary Elevator B45  </td></tr>
<tr>
<td align="center">SCK </td><td align="center">Primary Elevator B48 </td><td align="center">-&gt; </td><td align="center">SCK </td><td align="center">Primary Elevator B48  </td></tr>
<tr>
<td align="center">PCS0 </td><td align="center">Primary Elevator B46 </td><td align="center">-&gt; </td><td align="center">PCS0 </td><td align="center">Primary Elevator B46  </td></tr>
<tr>
<td align="center">GND </td><td align="center">Primary Elevator B2 </td><td align="center">-&gt; </td><td align="center">GND </td><td align="center">Primary Elevator B2  </td></tr>
</table>
</div><h3>TWR-KL25Z48M:</h3>
<div> <table class="doxtable">
<tr>
<td colspan="2" align="center" bgcolor="#2E9AFE">Master Board </td><td colspan="1" align="center" bgcolor="#2E9AFE">Connects To </td><td colspan="2" align="center" bgcolor="#2E9AFE">Slave Board  </td></tr>
<tr>
<td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location </td><td colspan="1" align="center" bgcolor="#2E9AFE"></td><td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location  </td></tr>
<tr>
<td align="center">MISO </td><td align="center">Primary Elevator B44 </td><td align="center">-&gt; </td><td align="center">MISO </td><td align="center">Primary Elevator B44  </td></tr>
<tr>
<td align="center">MOSI </td><td align="center">Primary Elevator B45 </td><td align="center">-&gt; </td><td align="center">MOSI </td><td align="center">Primary Elevator B45  </td></tr>
<tr>
<td align="center">SCK </td><td align="center">Primary Elevator B48 </td><td align="center">-&gt; </td><td align="center">SCK </td><td align="center">Primary Elevator B48  </td></tr>
<tr>
<td align="center">PCSO0 </td><td align="center">Primary Elevator B46 </td><td align="center">-&gt; </td><td align="center">PCSO0 </td><td align="center">Primary Elevator B46  </td></tr>
<tr>
<td align="center">GND </td><td align="center">Primary Elevator B2 </td><td align="center">-&gt; </td><td align="center">GND </td><td align="center">Primary Elevator B2  </td></tr>
</table>
</div><h3>TWR-KM34Z75M:</h3>
<div> <table class="doxtable">
<tr>
<td colspan="2" align="center" bgcolor="#2E9AFE">Master Board </td><td colspan="1" align="center" bgcolor="#2E9AFE">Connects To </td><td colspan="2" align="center" bgcolor="#2E9AFE">Slave Board  </td></tr>
<tr>
<td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location </td><td colspan="1" align="center" bgcolor="#2E9AFE"></td><td colspan="1" align="center" bgcolor="#2E9AFE">Pin Name </td><td colspan="1" align="center" bgcolor="#2E9AFE">Board Location  </td></tr>
<tr>
<td align="center">PTG5/MISO </td><td align="center">J13 pin 2 </td><td align="center">-&gt; </td><td align="center">PTG5/MISO </td><td align="center">J13 pin 2  </td></tr>
<tr>
<td align="center">PTG4/MOSI </td><td align="center">J15 pin 1 </td><td align="center">-&gt; </td><td align="center">PTG4/MOSI </td><td align="center">J15 pin 1  </td></tr>
<tr>
<td align="center">PTG3/SCK </td><td align="center">J12 pin 1 </td><td align="center">-&gt; </td><td align="center">PTG3/SCK </td><td align="center">J12 pin 1  </td></tr>
<tr>
<td align="center">PTG2/PCS0 </td><td align="center">J9 pin 2 </td><td align="center">-&gt; </td><td align="center">PTG2/PCS0 </td><td align="center">J9 pin 2  </td></tr>
<tr>
<td align="center">GND </td><td align="center">J25 Pin 26 </td><td align="center">-&gt; </td><td align="center">GND </td><td align="center">J25 Pin 26  </td></tr>
</table>
</div><h2><a class="anchor" id="PtE"></a>
Prepare the example</h2>
<ol type="1">
<li>Connect a USB cable between the PC host and the OpenSDA USB port on the board.</li>
<li>Open a serial terminal with these settings:<ul>
<li>115200 baud rate</li>
<li>8 data bits</li>
<li>No parity</li>
<li>One stop bit</li>
<li>No flow control</li>
</ul>
</li>
<li>Download the program to the target board.</li>
<li>Either press the reset button on your board or launch the debugger in your IDE to begin running the example.</li>
</ol>
<h2><a class="anchor" id="RtE"></a>
Run the example</h2>
<h3><a class="anchor" id="SPIB"></a>
SPI blocking Master - Slave</h3>
<p>Set up the Slave first. The Slave board must be powered up first and then it echoes on the terminal:</p>
<div class="fragment"><div class="line">SPI board-to-board blocking example</div>
<div class="line">This example run on instance 0</div>
<div class="line">Be sure master<span class="stringliteral">&#39;s SPI0 and slave&#39;</span>s SPI0 are connected</div>
<div class="line">Slave example is running...</div>
</div><!-- fragment --><p>Master sends an array to slave, receives the array back from slave, and compares whether the two buffers are the same. The master board prints to the terminal:</p>
<div class="fragment"><div class="line">SPI board-to-board blocking example</div>
<div class="line">This example runs on instance 0.</div>
<div class="line">Be sure master<span class="stringliteral">&#39;s SPI0 and slave&#39;</span>s SPI0 are connected.</div>
<div class="line"></div>
<div class="line">Baud rate in Hz is: 500000</div>
<div class="line"></div>
<div class="line">Master transmits:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line">Master receives:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line"></div>
<div class="line"> SPI master transfer succeed!</div>
<div class="line"></div>
<div class="line">Press any key to run again</div>
</div><!-- fragment --><p>The slave board receives and prints to the terminal:</p>
<div class="fragment"><div class="line">Slave receives:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line">Slave example is running...</div>
</div><!-- fragment --><h3><a class="anchor" id="SPINB"></a>
SPI non-blocking Master - Slave</h3>
<p>Set up the Slave first and then the slave board echoes on the terminal:</p>
<div class="fragment"><div class="line">SPI board-to-board non-blocking example</div>
<div class="line">This example runs on instance 0.</div>
<div class="line">Be sure master<span class="stringliteral">&#39;s SPI0 and slave&#39;</span>s SPI0 are connected.</div>
<div class="line">Slave example is running...</div>
</div><!-- fragment --><p>Master sends an array to slave, receives the array back from the slave, and compares whether the two buffers are the same. The master board prints to the terminal:</p>
<div class="fragment"><div class="line">SPI board-to-board non-blocking example</div>
<div class="line">This example runs on instance 0.</div>
<div class="line">Be sure master<span class="stringliteral">&#39;s SPI0 and slave&#39;</span>s SPI0 are connected</div>
<div class="line"></div>
<div class="line">Baud rate in Hz is: 500000</div>
<div class="line"></div>
<div class="line">Master transmits:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line">Master receives:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line"></div>
<div class="line">SPI master transfer succeed!</div>
<div class="line">Press any key to run again</div>
</div><!-- fragment --><p>The slave board receives and prints to the terminal:</p>
<div class="fragment"><div class="line">Slave receives:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line">Slave example is running...</div>
</div><!-- fragment --><h3><a class="anchor" id="SPIDB"></a>
SPI DMA blocking Master - Slave</h3>
<p>Set up the Slave first and then the slave board echoes on the terminal:</p>
<div class="fragment"><div class="line">SPI board to board DMA blocking example</div>
<div class="line">This example run on instance 0</div>
<div class="line">Be sure master<span class="stringliteral">&#39;s SPI0 and slave&#39;</span>s SPI0 are connected</div>
<div class="line">Slave example is running...</div>
</div><!-- fragment --><p>Master sends an array to the slave, receives the array back from the slave, and compares whether the two buffers are the same. The master board prints to the terminal.</p>
<div class="fragment"><div class="line">SPI board-to-board DMA blocking example</div>
<div class="line">This example runs on instance 0.</div>
<div class="line">Be sure master<span class="stringliteral">&#39;s SPI0 and slave&#39;</span>s SPI0 are connected</div>
<div class="line"></div>
<div class="line">Baud rate set to 500000Hz</div>
<div class="line"></div>
<div class="line">Master transmits:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line">Master receives:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line">SPI master transfer succeed!</div>
<div class="line"></div>
<div class="line">Press any key to run again</div>
</div><!-- fragment --><p>The slave board receives and prints to the terminal:</p>
<div class="fragment"><div class="line">Slave receives:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line">Slave example is running...</div>
</div><!-- fragment --><h3><a class="anchor" id="SPIDNB"></a>
SPI DMA non-blocking Master - Slave</h3>
<p>Set up the Slave first and then the slave board echoes on the terminal:</p>
<div class="fragment"><div class="line">SPI board-to-board DMA non-blocking example</div>
<div class="line">This example runs on instance 0.</div>
<div class="line">Be sure master<span class="stringliteral">&#39;s SPI0 and slave&#39;</span>s SPI0 are connected</div>
<div class="line">Slave example is running...</div>
</div><!-- fragment --><p>Master sends an array to the slave, receives the array back from the slave, and compares whether the two buffers are the same. The master board prints to the terminal:</p>
<div class="fragment"><div class="line">SPI board to board DMA non blocking example</div>
<div class="line">This example runs on instance 0.</div>
<div class="line">Be sure master<span class="stringliteral">&#39;s SPI0 and slave&#39;</span>s SPI0 are connected</div>
<div class="line"></div>
<div class="line">Baud rate set to 500000 Hz</div>
<div class="line">Master transmits:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line">Master receives:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line">SPI master transfer succeeded!</div>
<div class="line"></div>
<div class="line">Press any key to run again.</div>
</div><!-- fragment --><p>The slave board receives and prints to the terminal:</p>
<div class="fragment"><div class="line">Slave receive:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line">Slave example is running...</div>
</div><!-- fragment --><h3><a class="anchor" id="SPIPMS"></a>
SPI polling Master - Slave</h3>
<p>Set up the slave first and then the slave board echoes to the terminal:</p>
<div class="fragment"><div class="line">SPI board to board polling example</div>
<div class="line">This example run on instance 0</div>
<div class="line">Be sure master<span class="stringliteral">&#39;s SPI0 and slave&#39;</span>s SPI0 are connected</div>
<div class="line">Slave example is running...</div>
</div><!-- fragment --><p>Master sends an array to the slave, receives the array back from the slave, and compares whether the two buffers are the same. The master board prints to the terminal:</p>
<div class="fragment"><div class="line">SPI board to board polling example</div>
<div class="line">This example run on instance 0</div>
<div class="line">Be sure master<span class="stringliteral">&#39;s SPI0 and slave&#39;</span>s SPI0 are connected</div>
<div class="line"></div>
<div class="line">Baud rate in Hz is: 500000</div>
<div class="line"></div>
<div class="line">Master transmits:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line">Master receives:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line">SPI master transfer succeed!</div>
<div class="line"></div>
<div class="line">Press any key to run again</div>
</div><!-- fragment --><p>The slave board receives and prints on the terminal:</p>
<div class="fragment"><div class="line">Slave receives:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line">Slave example is running...</div>
</div><!-- fragment --><h3><a class="anchor" id="SPIL"></a>
SPI loopback</h3>
<p>These instructions are displayed/shown on the terminal window:</p>
<div class="fragment"><div class="line">SPI loopback example</div>
<div class="line">This example runs on instance 0.</div>
<div class="line">Be sure MISO-to-MOSI are connected</div>
<div class="line"></div>
<div class="line">Baud rate in Hz is: 500000</div>
<div class="line"></div>
<div class="line">Master transmits:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line">Master receives:</div>
<div class="line">     00 01 02 03 04 05 06 07 08 09 0A 0B 0C 0D 0E 0F</div>
<div class="line">     10 11 12 13 14 15 16 17 18 19 1A 1B 1C 1D 1E 1F</div>
<div class="line">     20 21 22 23 24 25 26 27 28 29 2A 2B 2C 2D 2E 2F</div>
<div class="line">     30 31 32 33 34 35 36 37 38 39 3A 3B 3C 3D 3E 3F</div>
<div class="line">SPI master transfer succeed!</div>
<div class="line"></div>
<div class="line">Press any key to run again</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.5-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul class="foot">
    <li class="footer">Wed Nov 11 2015 &copy; 2015 Freescale Semiconductor, Inc. All rights reserved.
    </li>
  </ul>
</div>
</body>
</html>
